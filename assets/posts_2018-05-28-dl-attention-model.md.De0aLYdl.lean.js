import{_ as s,c as e,j as t,a as Q,ah as l,o as T}from"./chunks/framework.B8QGmHkS.js";const m="/assets/15-3.B5prftSp.png",o="/assets/16-2.Cteiobe4.png",k=JSON.parse('{"title":"DeepLearning笔记(16)——注意力模型","description":"","frontmatter":{"layout":"post","title":"DeepLearning笔记(16)——注意力模型","date":"2018-05-28 16:20:00 +0800","tags":"MachineLearning"},"headers":[],"relativePath":"posts/2018-05-28-dl-attention-model.md","filePath":"posts/2018-05-28-dl-attention-model.md"}'),d={name:"posts/2018-05-28-dl-attention-model.md"},n={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},r={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-3.14ex"},xmlns:"http://www.w3.org/2000/svg",width:"36.256ex",height:"7.411ex",role:"img",focusable:"false",viewBox:"0 -1887.8 16025.2 3275.5","aria-hidden":"true"},i={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},p={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.924ex",height:"2.06ex",role:"img",focusable:"false",viewBox:"0 -899.7 2176.4 910.7","aria-hidden":"true"},g={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},h={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.464ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.119ex",height:"2.485ex",role:"img",focusable:"false",viewBox:"0 -893.3 1378.4 1098.3","aria-hidden":"true"},c={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},u={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.023ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.651ex",height:"2.058ex",role:"img",focusable:"false",viewBox:"0 -899.7 1613.6 909.7","aria-hidden":"true"};function f(x,a,w,L,H,y){return T(),e("div",null,[a[12]||(a[12]=t("p",null,[t("img",{src:m,alt:""})],-1)),a[13]||(a[13]=t("p",null,"在之前的机器翻译过程中，我们使用如上图所示的编码/解码网络，其中绿色部分会编码整个输入的句子，生成一个编码，然后紫色部分会对其进行解码。",-1)),a[14]||(a[14]=t("p",null,"假如要翻译一个很长的句子，那么人工翻译是不会先通读整段句子，然后再一次性进行翻译。而是会一部分一部分进行翻译。因此上图所示的网络结构在处理长句子的时候存在着不足。",-1)),a[15]||(a[15]=t("p",null,[Q("注意力模型（Attention Model）正是用来解决这种问题的，相关论文参考 "),t("a",{href:"https://arxiv.org/abs/1409.0473",target:"_blank",rel:"noreferrer"},"Neural Machine Translation by Jointly Learning to Align and Translate"),Q("。")],-1)),a[16]||(a[16]=t("p",null,"如下图所示为注意力模型的简要描述：",-1)),a[17]||(a[17]=t("p",null,[t("img",{src:o,alt:""})],-1)),a[18]||(a[18]=t("p",null,"下半部分是一个BRNN，用于计算单词的特征；上班部分为另一个RNN，用于翻译。在翻译第一个词的时候，会考虑原文第一个词以及附近的其它词语。依次类推。",-1)),t("mjx-container",n,[(T(),e("svg",r,a[0]||(a[0]=[l("",1)]))),a[1]||(a[1]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mtable",{columnalign:"",columnspacing:"1em",rowspacing:"4pt"},[t("mtr",null,[t("mtd",null,[t("msup",null,[t("mi",null,"a"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{fence:"false",stretchy:"false"},"⟨"),t("msup",null,[t("mi",null,"t"),t("mo",{"data-mjx-alternate":"1"},"′")]),t("mo",{fence:"false",stretchy:"false"},"⟩")])]),t("mo",null,"="),t("mo",{stretchy:"false"},"("),t("msup",null,[t("mover",null,[t("mi",null,"a"),t("mo",null,"→")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{fence:"false",stretchy:"false"},"⟨"),t("msup",null,[t("mi",null,"t"),t("mo",{"data-mjx-alternate":"1"},"′")]),t("mo",{fence:"false",stretchy:"false"},"⟩")])]),t("mo",null,","),t("msup",null,[t("mover",null,[t("mi",null,"a"),t("mo",null,"←")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{fence:"false",stretchy:"false"},"⟨"),t("msup",null,[t("mi",null,"t"),t("mo",{"data-mjx-alternate":"1"},"′")]),t("mo",{fence:"false",stretchy:"false"},"⟩")])]),t("mo",{stretchy:"false"},")")])]),t("mtr",null,[t("mtd",null,[t("msup",null,[t("mi",null,"c"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{fence:"false",stretchy:"false"},"⟨"),t("mi",null,"t"),t("mo",{fence:"false",stretchy:"false"},"⟩")])]),t("mo",null,"="),t("munder",null,[t("mo",{"data-mjx-texclass":"OP"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"t"),t("mo",{"data-mjx-alternate":"1"},"′")])])]),t("msup",null,[t("mi",null,"α"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{fence:"false",stretchy:"false"},"⟨"),t("mi",null,"t"),t("mo",null,","),t("msup",null,[t("mi",null,"t"),t("mo",{"data-mjx-alternate":"1"},"′")]),t("mo",{fence:"false",stretchy:"false"},"⟩")])]),t("msup",null,[t("mi",null,"a"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{fence:"false",stretchy:"false"},"⟨"),t("msup",null,[t("mi",null,"t"),t("mo",{"data-mjx-alternate":"1"},"′")]),t("mo",{fence:"false",stretchy:"false"},"⟩")])]),t("mo",null,",")]),t("mtd",null,[t("mo",{stretchy:"false"},"("),t("munder",null,[t("mo",{"data-mjx-texclass":"OP"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"t"),t("mo",{"data-mjx-alternate":"1"},"′")])])]),t("msup",null,[t("mi",null,"α"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{fence:"false",stretchy:"false"},"⟨"),t("mi",null,"t"),t("mo",null,","),t("msup",null,[t("mi",null,"t"),t("mo",{"data-mjx-alternate":"1"},"′")]),t("mo",{fence:"false",stretchy:"false"},"⟩")])]),t("mo",null,"="),t("mn",null,"1"),t("mo",{stretchy:"false"},")")])])])])],-1))]),t("p",null,[a[8]||(a[8]=Q("其中 ")),t("mjx-container",i,[(T(),e("svg",p,a[2]||(a[2]=[l("",1)]))),a[3]||(a[3]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msup",null,[t("mi",null,"α"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{fence:"false",stretchy:"false"},"⟨"),t("mi",null,"t"),t("mo",null,","),t("msup",null,[t("mi",null,"t"),t("mo",{"data-mjx-alternate":"1"},"′")]),t("mo",{fence:"false",stretchy:"false"},"⟩")])])])],-1))]),a[9]||(a[9]=Q(" 为注意力权重，表示 ")),t("mjx-container",g,[(T(),e("svg",h,a[4]||(a[4]=[l("",1)]))),a[5]||(a[5]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msup",null,[t("mi",null,"y"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{fence:"false",stretchy:"false"},"⟨"),t("mi",null,"t"),t("mo",{fence:"false",stretchy:"false"},"⟩")])])])],-1))]),a[10]||(a[10]=Q(" 应该对 ")),t("mjx-container",c,[(T(),e("svg",u,a[6]||(a[6]=[l("",1)]))),a[7]||(a[7]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msup",null,[t("mi",null,"a"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{fence:"false",stretchy:"false"},"⟨"),t("msup",null,[t("mi",null,"t"),t("mo",{"data-mjx-alternate":"1"},"′")]),t("mo",{fence:"false",stretchy:"false"},"⟩")])])])],-1))]),a[11]||(a[11]=Q(" 保持多少注意力。"))])])}const Z=s(d,[["render",f]]);export{k as __pageData,Z as default};
