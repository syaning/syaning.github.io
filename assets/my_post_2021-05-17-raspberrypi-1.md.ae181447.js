import{_ as s,o as a,c as n,a as l}from"./app.f8d549b2.js";const u=JSON.parse('{"title":"\u6811\u8393\u6D3E\u521D\u4F53\u9A8C(1)\u2014\u2014\u90E8\u7F72","description":"","frontmatter":{"layout":"post","title":"\u6811\u8393\u6D3E\u521D\u4F53\u9A8C(1)\u2014\u2014\u90E8\u7F72","date":"2021-05-17 22:30:00 +0800"},"headers":[{"level":2,"title":"1. \u7EC4\u88C5","slug":"_1-\u7EC4\u88C5","link":"#_1-\u7EC4\u88C5","children":[]},{"level":2,"title":"2. \u5B89\u88C5\u7CFB\u7EDF","slug":"_2-\u5B89\u88C5\u7CFB\u7EDF","link":"#_2-\u5B89\u88C5\u7CFB\u7EDF","children":[]},{"level":2,"title":"3. \u914D\u7F6E\u9759\u6001IP","slug":"_3-\u914D\u7F6E\u9759\u6001ip","link":"#_3-\u914D\u7F6E\u9759\u6001ip","children":[]},{"level":2,"title":"4. \u914D\u7F6E\u65F6\u533A","slug":"_4-\u914D\u7F6E\u65F6\u533A","link":"#_4-\u914D\u7F6E\u65F6\u533A","children":[]},{"level":2,"title":"5. \u66F4\u65B0","slug":"_5-\u66F4\u65B0","link":"#_5-\u66F4\u65B0","children":[]},{"level":2,"title":"6. \u79D1\u5B66\u4E0A\u7F51","slug":"_6-\u79D1\u5B66\u4E0A\u7F51","link":"#_6-\u79D1\u5B66\u4E0A\u7F51","children":[{"level":3,"title":"\u5B89\u88C5 shadowsocks-libev","slug":"\u5B89\u88C5-shadowsocks-libev","link":"#\u5B89\u88C5-shadowsocks-libev","children":[]},{"level":3,"title":"\u5B89\u88C5 privoxy","slug":"\u5B89\u88C5-privoxy","link":"#\u5B89\u88C5-privoxy","children":[]}]}],"relativePath":"my/post/2021-05-17-raspberrypi-1.md"}'),e={name:"my/post/2021-05-17-raspberrypi-1.md"},p=l(`<h2 id="_1-\u7EC4\u88C5" tabindex="-1">1. \u7EC4\u88C5 <a class="header-anchor" href="#_1-\u7EC4\u88C5" aria-hidden="true">#</a></h2><p>\u4E70\u7684\u662F 4B \u7684\u677F\u5B50\uFF0C8G \u5185\u5B58\uFF0C32G TF \u5B58\u50A8\u5361\u3002\u7EC4\u88C5\u6BD4\u8F83\u7B80\u5355\uFF0C\u4E0D\u505A\u8D58\u8FF0\u3002</p><h2 id="_2-\u5B89\u88C5\u7CFB\u7EDF" tabindex="-1">2. \u5B89\u88C5\u7CFB\u7EDF <a class="header-anchor" href="#_2-\u5B89\u88C5\u7CFB\u7EDF" aria-hidden="true">#</a></h2><p>\u53C2\u8003 <a href="https://ubuntu.com/tutorials/how-to-install-ubuntu-on-your-raspberry-pi" target="_blank" rel="noreferrer">How to install Ubuntu Server on your Raspberry Pi</a> \u5B89\u88C5 Ubuntu 20.04.</p><h2 id="_3-\u914D\u7F6E\u9759\u6001ip" tabindex="-1">3. \u914D\u7F6E\u9759\u6001IP <a class="header-anchor" href="#_3-\u914D\u7F6E\u9759\u6001ip" aria-hidden="true">#</a></h2><p>\u5982\u679C\u6CA1\u6709\u8BE5\u9700\u6C42\uFF0C\u53EF\u4EE5\u76F4\u63A5\u8DF3\u8FC7\u3002</p><p>\u5982\u679C\u9700\u8981\u914D\u7F6E\u9759\u6001IP\uFF0C\u53EF\u4EE5\u53C2\u8003 <a href="https://ubuntu.com/server/docs/network-configuration" target="_blank" rel="noreferrer">Network Configuration</a>.</p><p>\u4FEE\u6539 <code>/etc/netplan/99_config.yaml</code> \u6587\u4EF6\uFF1A</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">network:</span></span>
<span class="line"><span style="color:#A6ACCD;">  version: 2</span></span>
<span class="line"><span style="color:#A6ACCD;">  renderer: networkd</span></span>
<span class="line"><span style="color:#A6ACCD;">  ethernets:</span></span>
<span class="line"><span style="color:#A6ACCD;">    eth0:</span></span>
<span class="line"><span style="color:#A6ACCD;">      addresses:</span></span>
<span class="line"><span style="color:#A6ACCD;">        - 192.168.0.151/24</span></span>
<span class="line"><span style="color:#A6ACCD;">      gateway4: 192.168.0.1</span></span>
<span class="line"><span style="color:#A6ACCD;">      nameservers:</span></span>
<span class="line"><span style="color:#A6ACCD;">        addresses: [114.114.114.114]</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>\u7136\u540E\u6267\u884C <code>sudo netplan apply</code> \u5373\u53EF\u3002</p><h2 id="_4-\u914D\u7F6E\u65F6\u533A" tabindex="-1">4. \u914D\u7F6E\u65F6\u533A <a class="header-anchor" href="#_4-\u914D\u7F6E\u65F6\u533A" aria-hidden="true">#</a></h2><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">timedatectl set-timezone Asia/Shanghai</span></span>
<span class="line"></span></code></pre></div><h2 id="_5-\u66F4\u65B0" tabindex="-1">5. \u66F4\u65B0 <a class="header-anchor" href="#_5-\u66F4\u65B0" aria-hidden="true">#</a></h2><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">sudo apt update</span></span>
<span class="line"><span style="color:#A6ACCD;">sudo apt upgrade</span></span>
<span class="line"><span style="color:#A6ACCD;">sudo apt autoremove</span></span>
<span class="line"></span></code></pre></div><h2 id="_6-\u79D1\u5B66\u4E0A\u7F51" tabindex="-1">6. \u79D1\u5B66\u4E0A\u7F51 <a class="header-anchor" href="#_6-\u79D1\u5B66\u4E0A\u7F51" aria-hidden="true">#</a></h2><p>\u53C2\u8003\uFF1A</p><ul><li><a href="https://ochicken.top/2019/10/11/20191011-Shadowsocks-libev/" target="_blank" rel="noreferrer">Shadowsocks-libev\u7684Server\u548CClient(for Linux)\u914D\u7F6E</a></li><li><a href="https://blog.gadflysu.com/linux/ubuntu-primer/" target="_blank" rel="noreferrer">\u73B0\u5728\u5F00\u59CB\u4F7F\u7528 Ubuntu 20.04</a></li></ul><h3 id="\u5B89\u88C5-shadowsocks-libev" tabindex="-1">\u5B89\u88C5 shadowsocks-libev <a class="header-anchor" href="#\u5B89\u88C5-shadowsocks-libev" aria-hidden="true">#</a></h3><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki"><code><span class="line"><span style="color:#676E95;"># 1. \u5B89\u88C5 shadowsocks-libev</span></span>
<span class="line"><span style="color:#A6ACCD;">sudo apt install shadowsocks-libev</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># 2. \u7531\u4E8E\u8FD9\u91CC\u53EA\u9700\u8981\u542F\u52A8 client\uFF0C\u56E0\u6B64\u7981\u7528 server</span></span>
<span class="line"><span style="color:#A6ACCD;">sudo systemctl disable shadowsocks-libev</span></span>
<span class="line"><span style="color:#A6ACCD;">sudo systemctl stop shadowsocks-libev</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># 3. \u914D\u7F6E /etc/shadowsocks-libev/client.json</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># 4. \u8BBE\u7F6E\u5F00\u542F\u542F\u52A8\u5E76\u542F\u52A8 client</span></span>
<span class="line"><span style="color:#A6ACCD;">sudo systemctl </span><span style="color:#82AAFF;">enable</span><span style="color:#A6ACCD;"> shadowsocks-libev-local@client</span></span>
<span class="line"><span style="color:#A6ACCD;">sudo systemctl start shadowsocks-libev-local@client</span></span>
<span class="line"></span></code></pre></div><h3 id="\u5B89\u88C5-privoxy" tabindex="-1">\u5B89\u88C5 privoxy <a class="header-anchor" href="#\u5B89\u88C5-privoxy" aria-hidden="true">#</a></h3><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki"><code><span class="line"><span style="color:#676E95;"># 1. \u5B89\u88C5 privoxy</span></span>
<span class="line"><span style="color:#A6ACCD;">sudo apt install privoxy</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># 2. \u914D\u7F6E /etc/privoxy/config</span></span>
<span class="line"><span style="color:#676E95;"># \u6DFB\u52A0 forward-socks5  /   127.0.0.1:1080 .</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># 3. \u91CD\u542F</span></span>
<span class="line"><span style="color:#A6ACCD;">sudo systemctl restart privoxy</span></span>
<span class="line"></span></code></pre></div><p>\u4EE5\u4E0A\u914D\u7F6E\u662F\u8BBE\u7F6E\u4E86\u5168\u5C40\u4EE3\u7406\uFF0C\u5982\u679C\u5E0C\u671B\u4EE5 PAC \u6A21\u5F0F\u8FDB\u884C\u4EE3\u7406\uFF0C\u53EF\u4EE5\u53C2\u8003 <a href="https://github.com/zfl9/gfwlist2privoxy" target="_blank" rel="noreferrer">gfwlist2privoxy</a>\uFF0C\u6B64\u65F6\u4E0A\u9762\u7B2C 2 \u6B65\u4E2D\u4E0D\u7528\u6DFB\u52A0 <code>forward-socks5 / 127.0.0.1:1080 .</code>\u3002</p><blockquote><p>\u6700\u597D\u662F\u4E0D\u8981\u7528\u5168\u5C40\u4EE3\u7406\uFF0C\u800C\u662F\u8BBE\u7F6E\u4E3A PAC \u6A21\u5F0F\uFF0C\u8FD9\u6837\u5BF9\u4E8E\u4E00\u4E9B\u6B63\u5E38\u7F51\u7AD9\u8BBF\u95EE\u4F1A\u6BD4\u8F83\u5FEB\u3002</p></blockquote><p>\u7136\u540E\u5728 <code>~/.bashrc</code> \u6DFB\u52A0\uFF1A</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">enable_ss()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">export</span><span style="color:#A6ACCD;"> HTTP_PROXY=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">http://127.0.0.1:8118</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">export</span><span style="color:#A6ACCD;"> HTTPS_PROXY=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">http://127.0.0.1:8118</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">disable_ss()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#82AAFF;">unset</span><span style="color:#A6ACCD;"> HTTP_PROXY</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#82AAFF;">unset</span><span style="color:#A6ACCD;"> HTTPS_PROXY</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>\u8FD9\u6837\u5C31\u53EF\u4EE5\u901A\u8FC7 <code>enable_ss</code> \u6765\u5F00\u542F\u4EE3\u7406\uFF0C\u901A\u8FC7 <code>disable_ss</code> \u6765\u5173\u95ED\u4EE3\u7406\u3002</p>`,26),o=[p];function t(c,r,i,d,h,y){return a(),n("div",null,o)}const A=s(e,[["render",t]]);export{u as __pageData,A as default};
