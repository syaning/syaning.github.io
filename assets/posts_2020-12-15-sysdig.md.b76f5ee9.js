import{_ as s,o as a,c as n,V as l}from"./chunks/framework.16eef3c0.js";const o="/assets/sysdig.b9040fbd.png",u=JSON.parse('{"title":"使用 sysdig 进行系统分析","description":"","frontmatter":{"layout":"post","title":"使用 sysdig 进行系统分析","date":"2020-12-15 00:00:00 +0800"},"headers":[],"relativePath":"posts/2020-12-15-sysdig.md"}'),p={name:"posts/2020-12-15-sysdig.md"},e=l(`<h2 id="什么是-sysdig" tabindex="-1">什么是 sysdig？ <a class="header-anchor" href="#什么是-sysdig" aria-label="Permalink to &quot;什么是 sysdig？&quot;">​</a></h2><p>sysdig 是一个 Linux 系统诊断工具，并且提供了对容器的原生支持。可以认为它涵盖了 strace + tcpdump + htop + iftop + lsof + ... 等一系列系统工具的功能。</p><ul><li><a href="https://github.com/draios/sysdig" target="_blank" rel="noreferrer">Github</a></li><li><a href="https://sysdig.com/" target="_blank" rel="noreferrer">sysdig 官网</a></li><li><a href="https://github.com/draios/sysdig/wiki" target="_blank" rel="noreferrer">sysdig wiki</a></li></ul><p>相比于其它工具，sysdig 的优势在于：</p><ul><li>功能强大，并且使用方法和输出格式统一，无需使用不同的命令在不同的输出格式之间进行转换</li><li>云原生支持，可以对容器和 k8s 集群进行监控</li></ul><h2 id="安装" tabindex="-1">安装 <a class="header-anchor" href="#安装" aria-label="Permalink to &quot;安装&quot;">​</a></h2><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">curl</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-s</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">https://s3.amazonaws.com/download.draios.com/stable/install-sysdig</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">bash</span></span></code></pre></div><h2 id="sysdig-输出" tabindex="-1">sysdig 输出 <a class="header-anchor" href="#sysdig-输出" aria-label="Permalink to &quot;sysdig 输出&quot;">​</a></h2><h3 id="默认输出" tabindex="-1">默认输出 <a class="header-anchor" href="#默认输出" aria-label="Permalink to &quot;默认输出&quot;">​</a></h3><p>默认可以直接执行</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 需要 root 权限</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">sysdig</span></span>
<span class="line"><span style="color:#F78C6C;">34378</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">12</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">02</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">36.269753803</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;"> echo </span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">7896</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> close fd</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">/usr/lib/locale/locale-archive</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#F78C6C;">34379</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">12</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">02</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">36.269754164</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;"> echo </span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">7896</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;"> close res</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">0</span></span>
<span class="line"><span style="color:#F78C6C;">34380</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">12</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">02</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">36.269781699</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;"> echo </span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">7896</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> fstat fd</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">/dev/pts/3</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#F78C6C;">34381</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">12</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">02</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">36.269783882</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;"> echo </span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">7896</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;"> fstat res</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">0</span></span>
<span class="line"><span style="color:#F78C6C;">34382</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">12</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">02</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">36.269784970</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;"> echo </span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">7896</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> mmap</span></span>
<span class="line"><span style="color:#F78C6C;">34383</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">12</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">02</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">36.269786575</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;"> echo </span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">7896</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;"> mmap</span></span>
<span class="line"><span style="color:#F78C6C;">34384</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">12</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">02</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">36.269827674</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;"> echo </span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">7896</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> write fd</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">/dev/pts/3</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> size</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">12</span></span>
<span class="line"><span style="color:#F78C6C;">34385</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">12</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">02</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">36.269839477</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;"> echo </span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">7896</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;"> write res</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">12</span><span style="color:#A6ACCD;"> data</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">hello</span><span style="color:#A6ACCD;"> world.</span></span>
<span class="line"><span style="color:#F78C6C;">34386</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">12</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">02</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">36.269843986</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;"> echo </span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">7896</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> close fd</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">/dev/pts/3</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#F78C6C;">34387</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">12</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">02</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">36.269844466</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;"> echo </span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">7896</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;"> close res</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">0</span></span>
<span class="line"><span style="color:#F78C6C;">34388</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">12</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">02</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">36.269844816</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;"> echo </span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">7896</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> munmap</span></span>
<span class="line"><span style="color:#F78C6C;">34389</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">12</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">02</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">36.269850803</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;"> echo </span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">7896</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;"> munmap</span></span>
<span class="line"><span style="color:#F78C6C;">34390</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">12</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">02</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">36.269851915</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;"> echo </span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">7896</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> close fd</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">/dev/pts/3</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#F78C6C;">34391</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">12</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">02</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">36.269852314</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;"> echo </span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">7896</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;"> close res</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">0</span></span></code></pre></div><p>默认的输出格式为：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">*%evt.num %evt.time %evt.cpu %proc.name (%thread.tid) %evt.dir %evt.type %evt.args</span></span></code></pre></div><p>其中：</p><ul><li>evt.num 是一个递增的序号</li><li>evt.time 是事件的发生时间</li><li>evt.cpu 是事件的cpu序号</li><li>proc.name 是进程名称</li><li>thread.top 是线程 id</li><li>evt.dir 是事件方向，&gt; 为进入事件，&lt; 为退出事件</li><li>evt.type 是事件类型，例如 read，open，write 等</li><li>evt.args 是事件参数列表</li></ul><h3 id="输出到文件" tabindex="-1">输出到文件 <a class="header-anchor" href="#输出到文件" aria-label="Permalink to &quot;输出到文件&quot;">​</a></h3><p>默认输出是在 terminal，可以将输出保存到文件中，然后 sysdig 再加载文件来进行分析。</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># sysdig 输出到文件</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">sysdig</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-w</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">dump.scap</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># rotation 参考 https://sysdig.com/blog/sysdig-continuous-capture-with-file-rotation/</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 例如每个文件大小为 1M，保留最新的 5 个文件</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">sysdig</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-C</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-W</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">5</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-w</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">dump.scap</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 读入文件</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">sysdig</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-r</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">dump.scap</span></span></code></pre></div><p>可以参考 <a href="https://sysdig.com/blog/sysdig-continuous-capture-with-file-rotation/" target="_blank" rel="noreferrer">Sysdig Continuous Capture with File Rotation</a> 查看更多输出到文件的示例。</p><h3 id="格式化输出" tabindex="-1">格式化输出 <a class="header-anchor" href="#格式化输出" aria-label="Permalink to &quot;格式化输出&quot;">​</a></h3><p>通过 <code>sysdig -j</code> 可以输出 JSON 格式，例如：</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">sysdig</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-j</span></span>
<span class="line"><span style="color:#89DDFF;">{</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">evt.cpu</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">evt.dir</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">&gt;</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">evt.info</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">next=0 pgft_maj=0 pgft_min=1385 vm_size=229324 vm_rss=15784 vm_swap=0 </span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">evt.num</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">7</span><span style="color:#A6ACCD;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">evt.outputtime</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">1607781847452944277</span><span style="color:#A6ACCD;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">evt.type</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">switch</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">proc.name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">sysdig</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">thread.tid</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">14550</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">{</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">evt.cpu</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">evt.dir</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">&gt;</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">evt.info</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">interval=4000000(0.004s) </span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">evt.num</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">8</span><span style="color:#A6ACCD;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">evt.outputtime</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">1607781847453039462</span><span style="color:#A6ACCD;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">evt.type</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">nanosleep</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">proc.name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">falco</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">thread.tid</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">12073</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">{</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">evt.cpu</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">evt.dir</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">&gt;</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">evt.info</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">next=0 pgft_maj=70 pgft_min=3664 vm_size=407148 vm_rss=36156 vm_swap=4596 </span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">evt.num</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">9</span><span style="color:#A6ACCD;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">evt.outputtime</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">1607781847453046982</span><span style="color:#A6ACCD;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">evt.type</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">switch</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">proc.name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">falco</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">thread.tid</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">12073</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">{</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">evt.cpu</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">evt.dir</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">&gt;</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">evt.info</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">next=14550(sysdig) pgft_maj=0 pgft_min=0 vm_size=0 vm_rss=0 vm_swap=0 </span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">evt.num</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">10</span><span style="color:#A6ACCD;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">evt.outputtime</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">1607781847453471349</span><span style="color:#A6ACCD;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">evt.type</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">switch</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">proc.name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:null,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">thread.tid</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">{</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">evt.cpu</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">evt.dir</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">&gt;</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">evt.info</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">next=14549(head) pgft_maj=0 pgft_min=1389 vm_size=229324 vm_rss=15784 vm_swap=0 </span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">evt.num</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">24</span><span style="color:#A6ACCD;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">evt.outputtime</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">1607781847453669133</span><span style="color:#A6ACCD;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">evt.type</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">switch</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">proc.name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">sysdig</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">thread.tid</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">14550</span><span style="color:#89DDFF;">}</span></span></code></pre></div><p>通过 <code>sysdig -p &lt;format&gt;</code> 可以自定义输出格式，例如：</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">sysdig</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-p</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">user:%user.name dir:%evt.arg.path</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#FFCB6B;">user:messagebus</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">dir:/usr/share/dbus-</span><span style="color:#F78C6C;">1</span><span style="color:#C3E88D;">/system-services/org.freedesktop.nm_dispatcher.service</span></span>
<span class="line"><span style="color:#FFCB6B;">user:messagebus</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">dir:/usr/share/dbus-</span><span style="color:#F78C6C;">1</span><span style="color:#C3E88D;">/system-services/org.freedesktop.Avahi.service</span></span>
<span class="line"><span style="color:#FFCB6B;">user:messagebus</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">dir:/usr/share/dbus-</span><span style="color:#F78C6C;">1</span><span style="color:#C3E88D;">/system-services/org.freedesktop.UPower.service</span></span>
<span class="line"><span style="color:#FFCB6B;">user:messagebus</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">dir:/usr/share/dbus-</span><span style="color:#F78C6C;">1</span><span style="color:#C3E88D;">/system-services/fi.w1.wpa_supplicant1.service</span></span>
<span class="line"><span style="color:#FFCB6B;">user:messagebus</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">dir:/usr/share/dbus-</span><span style="color:#F78C6C;">1</span><span style="color:#C3E88D;">/system-services/org.freedesktop.ModemManager1.service</span></span>
<span class="line"><span style="color:#FFCB6B;">user:messagebus</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">dir:/usr/share/dbus-</span><span style="color:#F78C6C;">1</span><span style="color:#C3E88D;">/system-services/org.freedesktop.RealtimeKit1.service</span></span></code></pre></div><ul><li>变量前面需要添加 <code>%</code></li><li>默认情况下，只有在所有变量都存在的情况下才会打印出来啊。如果需要允许字段不存在，使用 <code>*%user.name</code> 类似格式，即前面加一个 <code>*</code> ，此时不存在的字段会打印出 <code>&lt;NA&gt;</code></li></ul><h3 id="csysdig" tabindex="-1">csysdig <a class="header-anchor" href="#csysdig" aria-label="Permalink to &quot;csysdig&quot;">​</a></h3><p>通过 <code>sudo csysdig</code> 可以查看图形化的展示，类似于 <code>top</code> 命令看到的效果，如图所示：</p><p><img src="`+o+`" alt="image.png"></p><h2 id="filter" tabindex="-1">Filter <a class="header-anchor" href="#filter" aria-label="Permalink to &quot;Filter&quot;">​</a></h2><p>sysdig 提供了强大的过滤功能，用来进行筛选。例如：</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">sysdig</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">proc.name=cat</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">sysdig</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">proc.name=cat</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">and</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">evt.type=read</span></span></code></pre></div><p>操作符支持：=，!=，&lt;，&lt;=，&gt;，&gt;=，contains，icontains，in，exists 逻辑操作支持：and，or，not</p><p>通过 <code>sysdig -l</code> 可以查看所有支持的 filter，有如下几类：</p><ul><li>fd</li><li>process</li><li>evt</li><li>user</li><li>group</li><li>syslog</li><li>container</li><li>fdlist</li><li>k8s</li><li>mesos</li><li>span</li><li>evtin</li></ul><h2 id="chisels" tabindex="-1">Chisels <a class="header-anchor" href="#chisels" aria-label="Permalink to &quot;Chisels&quot;">​</a></h2><p>sysdig chisel 是 Lua 编写的脚本，可以用来对事件进行分析。通过 <code>sysdig -cl</code> 可以查看 chisesl 列表。主要有以下几类：</p><ul><li>Application</li><li>CPU Usage</li><li>Errors</li><li>I/O</li><li>Logs</li><li>Misc</li><li>Net</li><li>Performance</li><li>Security</li><li>System State</li><li>Tracers</li></ul><p>通过 <code>sysdig -i &lt;chiselnaame&gt;</code> 可以查看 chisel 信息，通过 <code>sysdig -c &lt;chiselname&gt; [args]</code> 可以运行一个 chisel。例如：</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">sysdig</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-i</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ps</span></span>
<span class="line"><span style="color:#FFCB6B;">Category:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">System</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">State</span></span>
<span class="line"><span style="color:#FFCB6B;">----------------------</span></span>
<span class="line"><span style="color:#FFCB6B;">ps</span><span style="color:#A6ACCD;">              </span><span style="color:#C3E88D;">List</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">and</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">optionally</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">filter</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">the</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">machine</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">processes.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">List</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">the</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">running</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">processes,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">with</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">an</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">output</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">that</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">is</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">similar</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">to</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">the</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">one</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">of</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ps.</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Ou</span></span>
<span class="line"><span style="color:#FFCB6B;">tput</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">is</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">at</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">a</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">point</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">in</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">time</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">adjust</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">this</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">in</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">the</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">filter.</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">It</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">defaults</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">to</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">time</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">of</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">e</span></span>
<span class="line"><span style="color:#FFCB6B;">vt.num=0</span></span>
<span class="line"><span style="color:#FFCB6B;">Args:</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">filter</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> filter - A sysdig-like filter expression that allows r</span></span>
<span class="line"><span style="color:#A6ACCD;">                </span><span style="color:#FFCB6B;">estricting</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">the</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">FD</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">list.</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">For</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">example</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">fd.name contains /etc</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">sho</span></span>
<span class="line"><span style="color:#A6ACCD;">                </span><span style="color:#FFCB6B;">ws</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">all</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">the</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">processes</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">that</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">have</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">files</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">open</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">under</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/etc.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">sysdig</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-c</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ps</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">proc.name=bash</span></span>
<span class="line"><span style="color:#FFCB6B;">TID</span><span style="color:#A6ACCD;">     </span><span style="color:#C3E88D;">PID</span><span style="color:#A6ACCD;">     </span><span style="color:#C3E88D;">USER</span><span style="color:#A6ACCD;">      </span><span style="color:#C3E88D;">VIRT</span><span style="color:#A6ACCD;">       </span><span style="color:#C3E88D;">RES</span><span style="color:#A6ACCD;">        </span><span style="color:#C3E88D;">FDLIMIT</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">CMD</span><span style="color:#A6ACCD;">                 </span></span>
<span class="line"><span style="color:#F78C6C;">16201</span><span style="color:#A6ACCD;">   </span><span style="color:#F78C6C;">16201</span><span style="color:#A6ACCD;">   admin     29.26M     5.61M      </span><span style="color:#F78C6C;">1024</span><span style="color:#A6ACCD;">      bash</span></span>
<span class="line"><span style="color:#F78C6C;">20480</span><span style="color:#A6ACCD;">   </span><span style="color:#F78C6C;">20480</span><span style="color:#A6ACCD;">   admin     29.26M     5.59M      </span><span style="color:#F78C6C;">1024</span><span style="color:#A6ACCD;">      bash</span></span></code></pre></div><h2 id="云原生支持" tabindex="-1">云原生支持 <a class="header-anchor" href="#云原生支持" aria-label="Permalink to &quot;云原生支持&quot;">​</a></h2><p>sysdig 对云原生场景有很好的支持，Filter 包含 container 和 k8s，例如：</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">sysdig</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">container.name=nginx</span></span>
<span class="line"><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">23</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">12</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">55.568063000</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;"> container:eda15d667287 </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">-1</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> container json</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">{</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">container</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">:{</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Mounts</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">:[],</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">cpu_period</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">:</span><span style="color:#F78C6C;">100000</span><span style="color:#C3E88D;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">cpu_quota</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">:</span><span style="color:#F78C6C;">0</span><span style="color:#C3E88D;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">cpu_shares</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">:</span><span style="color:#F78C6C;">1024</span><span style="color:#C3E88D;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">cpuset_cpu_count</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">:</span><span style="color:#F78C6C;">0</span><span style="color:#C3E88D;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">created_time</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">:</span><span style="color:#F78C6C;">1607784243</span><span style="color:#C3E88D;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">env</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">:[],</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">full_id</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">eda15d667287f94c26fde54f725f63b348f932455f2af80fdf6a3ae3eb70a04f</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">id</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">eda15d667287</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">image</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">nginx:1.17-alpine</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">imagedigest</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">sha256:763e7f0188e378fef0c761854552c70bbd817555dc4de029681a2e972e25e30e</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">imageid</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">89ec9da682137d6b18ab8244ca263b6771067f251562f884c7510c8f1e5ac910</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">imagerepo</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">nginx</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">imagetag</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">1.17-alpine</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">ip</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">172.17.0.2</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">is_pod_sandbox</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">:</span><span style="color:#89DDFF;">false</span><span style="color:#C3E88D;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">labels</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">:{</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">maintainer</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">NGINX Docker Maintainers &lt;docker-maint@nginx.com&gt;</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">},</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">lookup_state</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">:</span><span style="color:#F78C6C;">1</span><span style="color:#C3E88D;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">memory_limit</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">:</span><span style="color:#F78C6C;">0</span><span style="color:#C3E88D;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">metadata_deadline</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">:</span><span style="color:#F78C6C;">0</span><span style="color:#C3E88D;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">nginx</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">port_mappings</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">:[{</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">ContainerPort</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">:</span><span style="color:#F78C6C;">80</span><span style="color:#C3E88D;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">HostIp</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">:</span><span style="color:#F78C6C;">0</span><span style="color:#C3E88D;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">HostPort</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">:</span><span style="color:#F78C6C;">8080</span><span style="color:#C3E88D;">}],</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">privileged</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">:</span><span style="color:#89DDFF;">false</span><span style="color:#C3E88D;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">swap_limit</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">:</span><span style="color:#F78C6C;">0</span><span style="color:#C3E88D;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">type</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">:</span><span style="color:#F78C6C;">0</span><span style="color:#C3E88D;">}}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F78C6C;">94652</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">23</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">13</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">04.245968331</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;"> nginx </span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">14766</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;"> epoll_pwait </span></span>
<span class="line"><span style="color:#F78C6C;">94653</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">23</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">13</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">04.245981938</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;"> nginx </span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">14766</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> accept flags</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#F78C6C;">94654</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">23</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">13</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">04.245987609</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;"> nginx </span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">14766</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;"> accept fd</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">7</span><span style="color:#89DDFF;">(&lt;</span><span style="color:#A6ACCD;">4t</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">172.17.0.1:</span><span style="color:#F78C6C;">47566</span><span style="color:#A6ACCD;">-</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">172.17.0.2:</span><span style="color:#F78C6C;">80</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> tuple</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">172.17.0.1:</span><span style="color:#F78C6C;">47566</span><span style="color:#A6ACCD;">-</span><span style="color:#89DDFF;">&gt;</span><span style="color:#C3E88D;">172.17.0.2:</span><span style="color:#F78C6C;">80</span><span style="color:#A6ACCD;"> queuepct</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;"> queuelen</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;"> queuemax</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">511</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#F78C6C;">94655</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">23</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">13</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">04.245994319</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;"> nginx </span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">14766</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> epoll_ctl </span></span>
<span class="line"><span style="color:#F78C6C;">94656</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">23</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">13</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">04.245996892</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;"> nginx </span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">14766</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;"> epoll_ctl </span></span>
<span class="line"><span style="color:#F78C6C;">94657</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">23</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">13</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">04.245998144</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;"> nginx </span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">14766</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> epoll_pwait </span></span>
<span class="line"><span style="color:#F78C6C;">94658</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">23</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">13</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">04.246001866</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;"> nginx </span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">14766</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> switch next</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">15088</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">curl</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> pgft_maj</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;"> pgft_min</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">153</span><span style="color:#A6ACCD;"> vm_size</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">6420</span><span style="color:#A6ACCD;"> vm_rss</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">1868</span><span style="color:#A6ACCD;"> vm_swap</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#F78C6C;">94681</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">23</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">13</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">04.246077541</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;"> nginx </span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">14766</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;"> epoll_pwait </span></span>
<span class="line"><span style="color:#F78C6C;">94682</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">23</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">13</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">04.246081494</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;"> nginx </span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">14766</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> recvfrom fd</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">7</span><span style="color:#89DDFF;">(&lt;</span><span style="color:#A6ACCD;">4t</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">172.17.0.1:</span><span style="color:#F78C6C;">47566</span><span style="color:#A6ACCD;">-</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">172.17.0.2:</span><span style="color:#F78C6C;">80</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> size</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">1024</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#F78C6C;">94683</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">23</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">13</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">04.246084084</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;"> nginx </span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">14766</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;"> recvfrom res</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">78</span><span style="color:#A6ACCD;"> data</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">GET</span><span style="color:#A6ACCD;"> / HTTP/1.1..Host: localhost:8080..User-Agent: curl/7.58.0..Accept: </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;">/</span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;">.... tuple</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">NULL</span></span></code></pre></div><p>sysdig 对容器也有比较好的支持，例如：</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">sysdig</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-cl</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">grep</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">container</span></span>
<span class="line"><span style="color:#FFCB6B;">topcontainers_cpu</span></span>
<span class="line"><span style="color:#A6ACCD;">                </span><span style="color:#FFCB6B;">Top</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">containers</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">by</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">CPU</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">usage</span></span>
<span class="line"><span style="color:#FFCB6B;">topcontainers_error</span></span>
<span class="line"><span style="color:#A6ACCD;">                </span><span style="color:#FFCB6B;">Top</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">containers</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">by</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">number</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">of</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">errors</span></span>
<span class="line"><span style="color:#FFCB6B;">topcontainers_file</span></span>
<span class="line"><span style="color:#A6ACCD;">                </span><span style="color:#FFCB6B;">Top</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">containers</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">by</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">R+W</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">disk</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">bytes</span></span>
<span class="line"><span style="color:#FFCB6B;">topcontainers_net</span></span>
<span class="line"><span style="color:#A6ACCD;">                </span><span style="color:#FFCB6B;">Top</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">containers</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">by</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">network</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">I/O</span></span>
<span class="line"><span style="color:#FFCB6B;">lscontainers</span><span style="color:#A6ACCD;">    </span><span style="color:#C3E88D;">List</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">the</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">running</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">containers</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">sysdig</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-c</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">lscontainers</span></span>
<span class="line"><span style="color:#FFCB6B;">container.</span><span style="color:#82AAFF;">type</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">container.image</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">container.name</span><span style="color:#A6ACCD;">      </span><span style="color:#C3E88D;">container.id</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#FFCB6B;">--------------</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">---------------</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-------------------</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">------------</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;">         </span><span style="color:#C3E88D;">nginx:</span><span style="color:#F78C6C;">1.17</span><span style="color:#C3E88D;">-alpi</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">nginx</span><span style="color:#A6ACCD;">               </span><span style="color:#C3E88D;">eda15d667287</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">sysdig</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-c</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">topcontainers_cpu</span></span>
<span class="line"><span style="color:#FFCB6B;">CPU%</span><span style="color:#A6ACCD;">                </span><span style="color:#C3E88D;">container.name</span><span style="color:#A6ACCD;">      </span></span>
<span class="line"><span style="color:#FFCB6B;">--------------------------------------------------------------------------------</span></span>
<span class="line"><span style="color:#F78C6C;">10.90</span><span style="color:#A6ACCD;">%              host</span></span>
<span class="line"><span style="color:#F78C6C;">0.00</span><span style="color:#A6ACCD;">%               nginx</span></span></code></pre></div><p>可以参考 <a href="https://sysdig.com/blog/let-light-sysdig-adds-container-visibility/" target="_blank" rel="noreferrer">Let there be light – Sysdig adds container visibility</a> 查看更多介绍。</p>`,45),t=[e];function c(C,r,y,D,F,A){return a(),n("div",null,t)}const E=s(p,[["render",c]]);export{u as __pageData,E as default};
