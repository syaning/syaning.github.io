import{_ as s,o as n,c as a,a as l}from"./app.8d70b39f.js";const C=JSON.parse('{"title":"AngularJS\u6DF1\u5165(4)\u2014\u2014\u6A21\u5757\u52A0\u8F7D","description":"","frontmatter":{"layout":"post","title":"AngularJS\u6DF1\u5165(4)\u2014\u2014\u6A21\u5757\u52A0\u8F7D","date":"2015-07-19 15:00:00 +0800"},"headers":[{"level":2,"title":"1. ng\u6A21\u5757\u7684\u6CE8\u518C","slug":"_1-ng\u6A21\u5757\u7684\u6CE8\u518C","link":"#_1-ng\u6A21\u5757\u7684\u6CE8\u518C","children":[]},{"level":2,"title":"2. MyModule\u6A21\u5757","slug":"_2-mymodule\u6A21\u5757","link":"#_2-mymodule\u6A21\u5757","children":[]},{"level":2,"title":"3. bootstrap","slug":"_3-bootstrap","link":"#_3-bootstrap","children":[]},{"level":2,"title":"4. ng\u6A21\u5757\u7684\u52A0\u8F7D","slug":"_4-ng\u6A21\u5757\u7684\u52A0\u8F7D","link":"#_4-ng\u6A21\u5757\u7684\u52A0\u8F7D","children":[]},{"level":2,"title":"5. MyModule\u6A21\u5757\u7684\u52A0\u8F7D","slug":"_5-mymodule\u6A21\u5757\u7684\u52A0\u8F7D","link":"#_5-mymodule\u6A21\u5757\u7684\u52A0\u8F7D","children":[]}],"relativePath":"my/post/2015-07-19-dive-into-angular-4.md"}'),p={name:"my/post/2015-07-19-dive-into-angular-4.md"},o=l(`<p>\u5728AngularJS\u6A21\u5757\u5316\u548C\u4F9D\u8D56\u6CE8\u5165\u7684\u57FA\u7840\u4E0A\uFF0C\u6765\u5206\u6790\u6A21\u5757\u52A0\u8F7D\u7684\u8BE6\u7EC6\u8FC7\u7A0B\u3002\u4EE5\u5982\u4E0B\u4EE3\u7801\u4E3A\u4F8B\uFF1A</p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">id</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">app1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">ng-app</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">MyModule</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">ng-controller</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">ctrl</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">	angular</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">module</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">MyModule</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> [])</span></span>
<span class="line"><span style="color:#A6ACCD;">		</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">controller</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">ctrl</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">$scope</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">$scope</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{}</span><span style="color:#A6ACCD;">])</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><p>\u8FD9\u91CC\u5B9A\u4E49\u4E86\u4E00\u4E2A\u53EB\u505A<code>MyModule</code>\u7684\u6A21\u5757\u3002\u63A5\u4E0B\u6765\u8FDB\u884C\u5206\u6790AngularJS\u5728\u542F\u52A8\u52A0\u8F7D\u7684\u6574\u4E2A\u8FC7\u7A0B\u4E2D\u5404\u4E2A\u6A21\u5757\u662F\u5982\u4F55\u52A0\u8F7D\u7684\u3002</p><h2 id="_1-ng\u6A21\u5757\u7684\u6CE8\u518C" tabindex="-1">1. ng\u6A21\u5757\u7684\u6CE8\u518C <a class="header-anchor" href="#_1-ng\u6A21\u5757\u7684\u6CE8\u518C" aria-hidden="true">#</a></h2><p>\u901A\u8FC7\u7B2C\u4E00\u7BC7\u7684\u5206\u6790\uFF0C\u53EF\u4EE5\u77E5\u9053\uFF0CAngularJS\u7684\u52A0\u8F7D\u8FC7\u7A0B\u662F\uFF1A</p><ol><li><code>bindJQuery</code></li><li><code>publishExternalAPI</code><ul><li>\u4E3A<code>angular</code>\u5BF9\u8C61\u6269\u5C55\u5DE5\u5177\u65B9\u6CD5</li><li>\u5B9A\u4E49<code>angular.module</code>\u65B9\u6CD5</li><li>\u6CE8\u518C<code>ngLocale</code>\u548C<code>ng</code>\u6A21\u5757</li></ul></li><li><code>angularInit</code><ul><li>\u627E\u5230<code>ng-app</code></li><li>\u8C03\u7528<code>bootstrap</code></li></ul></li></ol><p>\u5176\u4E2D\u6CE8\u518C<code>ng</code>\u6A21\u5757\u7684\u4EE3\u7801\u7ED3\u6784\u5982\u4E0B\uFF1A</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki"><code><span class="line"><span style="color:#82AAFF;">angularModule</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">ng</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">ngLocale</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">$provide</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">ngModule</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">$provide</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    	</span><span style="color:#676E95;">// ... ...</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">])</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><p>\u901A\u8FC7<code>angular.module(&#39;ng&#39;)</code>\u8FDB\u884C\u67E5\u770B\uFF0C\u53EF\u4EE5\u53D1\u73B0<code>ng</code>\u6A21\u5757\u7684\u7ED3\u6784\u5982\u4E0B\uFF1A</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">_invokeQueue</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> []</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">_configBlocks</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> [</span></span>
<span class="line"><span style="color:#F07178;">        [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">$injector</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">invoke</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> [</span></span>
<span class="line"><span style="color:#F07178;">            [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">$provide</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">function</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">ngModule</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">$provide</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{}</span><span style="color:#F07178;">]</span></span>
<span class="line"><span style="color:#F07178;">        ]]</span></span>
<span class="line"><span style="color:#F07178;">    ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">_runBlocks</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> []</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">requires</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">ngLocale</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">name</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">ng</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;">// ... ...</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h2 id="_2-mymodule\u6A21\u5757" tabindex="-1">2. MyModule\u6A21\u5757 <a class="header-anchor" href="#_2-mymodule\u6A21\u5757" aria-hidden="true">#</a></h2><p>\u901A\u8FC7<code>angular.module(&#39;MyModule&#39;)</code>\u8FDB\u884C\u67E5\u770B\uFF0C\u53EF\u4EE5\u770B\u5230<code>MyModule</code>\u6A21\u5757\u7684\u7ED3\u6784\u5982\u4E0B\uFF1A</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">_invokeQueue</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> [</span></span>
<span class="line"><span style="color:#F07178;">        [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">$controllerProvider</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">register</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">ctrl</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">$scope</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">function</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">$scope</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{}</span><span style="color:#F07178;">]]]</span></span>
<span class="line"><span style="color:#F07178;">    ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">_configBlocks</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> []</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">_runBlocks</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> []</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">requires</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> []</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">name</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">MyModule</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;">// ... ...</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h2 id="_3-bootstrap" tabindex="-1">3. bootstrap <a class="header-anchor" href="#_3-bootstrap" aria-hidden="true">#</a></h2><p>\u5728<code>angularInit</code>\u88AB\u8C03\u7528\u7684\u65F6\u5019\uFF0C\u4F1A\u627E\u5230<code>ng-app=&quot;MyModule&quot;</code>\u7684\u5143\u7D20\uFF0C\u7136\u540E\u8C03\u7528<code>bootstrap(appElement, [&#39;MyModule&#39;], {})</code>\u3002\u5728\u51FD\u6570<code>bootstrap</code>\u7684\u6E90\u7801\u4E2D\uFF0C\u6709\u5982\u4E0B\u4EE3\u7801\uFF1A</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">modules </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> modules </span><span style="color:#89DDFF;">||</span><span style="color:#A6ACCD;"> []</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">modules</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">unshift</span><span style="color:#A6ACCD;">([</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">$provide</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">$provide</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">$provide</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">value</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">$rootElement</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">element</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">])</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> (config</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">debugInfoEnabled) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;">// Pushing so that this overrides \`debugInfoEnabled\` setting defined in user&#39;s \`modules\`.</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">modules</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">push</span><span style="color:#F07178;">([</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">$compileProvider</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">function</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">$compileProvider</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">$compileProvider</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">debugInfoEnabled</span><span style="color:#F07178;">(</span><span style="color:#FF9CAC;">true</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">])</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">modules</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">unshift</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">ng</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">var</span><span style="color:#A6ACCD;"> injector </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">createInjector</span><span style="color:#A6ACCD;">(modules</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> config</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">strictDi)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">injector</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">invoke</span><span style="color:#A6ACCD;">([</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">$rootScope</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">$rootElement</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">$compile</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">$injector</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">bootstrapApply</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">scope</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">element</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">compile</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">injector</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">scope</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">$apply</span><span style="color:#F07178;">(</span><span style="color:#C792EA;">function</span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#A6ACCD;">element</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">data</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">$injector</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">injector</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#82AAFF;">compile</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">element</span><span style="color:#F07178;">)(</span><span style="color:#A6ACCD;">scope</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">])</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><p>\u56E0\u6B64\uFF0C\u5728\u63A5\u4E0B\u6765\u8C03\u7528<code>createInjector</code>\u7684\u65F6\u5019\uFF0C\u53C2\u6570\u4E2D\u7684<code>modules</code>\u4E3A\uFF1A</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">ng</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">$provide</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">$provide</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#A6ACCD;">$provide</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">value</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">$rootElement</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">element</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">MyModule</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">]</span></span>
<span class="line"></span></code></pre></div><p>\u5373\u662F\u4E00\u4E2A\u6570\u7EC4\uFF0C\u8868\u793A\u4E09\u4E2A\u6A21\u5757\u3002\u63A5\u4E0B\u6765\u5728\u51FD\u6570<code>createInjector</code>\u4E2D\uFF0C\u4F1A\u4F7F\u7528\u5185\u90E8\u51FD\u6570<code>loadModules</code>\u4F9D\u6B21\u52A0\u8F7D\u8FD9\u4E09\u4E2A\u6A21\u5757\u3002</p><h2 id="_4-ng\u6A21\u5757\u7684\u52A0\u8F7D" tabindex="-1">4. ng\u6A21\u5757\u7684\u52A0\u8F7D <a class="header-anchor" href="#_4-ng\u6A21\u5757\u7684\u52A0\u8F7D" aria-hidden="true">#</a></h2><p>\u5728\u52A0\u8F7D<code>ng</code>\u6A21\u5757\u7684\u65F6\u5019\uFF0C\u4F1A\u8FDB\u5165\u5230<code>loadModules</code>\u65B9\u6CD5\u7684\u5982\u4E0B\u9009\u62E9\u8BED\u53E5\u4E2D\uFF1A</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> (</span><span style="color:#82AAFF;">isString</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">module</span><span style="color:#A6ACCD;">)) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">moduleFn</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">angularModule</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">module</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">runBlocks</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">runBlocks</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">concat</span><span style="color:#F07178;">(</span><span style="color:#82AAFF;">loadModules</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">moduleFn</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">requires</span><span style="color:#F07178;">))</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">concat</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">moduleFn</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">_runBlocks</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">runInvokeQueue</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">moduleFn</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">_invokeQueue</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">runInvokeQueue</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">moduleFn</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">_configBlocks</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>\u7531\u4E8E<code>ng</code>\u6A21\u5757\u4F9D\u8D56\u4E8E<code>ngLocale</code>\u6A21\u5757\uFF0C\u56E0\u6B64\u4F1A\u5148\u8C03\u7528<code>loadModules([&#39;ngLocale&#39;])</code>\u52A0\u8F7D<code>ngLocale</code>\u6A21\u5757\u3002</p><p>\uFF081\uFF09\u52A0\u8F7DngLocale\u6A21\u5757</p><p><code>ngLocale</code>\u6A21\u5757\u7684\u5B9A\u4E49\u5728<code>publishExternalAPI</code>\u65B9\u6CD5\u4E2D\uFF0C\u6E90\u7801\u5982\u4E0B\uFF1A</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki"><code><span class="line"><span style="color:#82AAFF;">angularModule</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">ngLocale</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> [])</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">provider</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">$locale</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> $LocaleProvider)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><p>\u56E0\u6B64\uFF0C\u8BE5\u6A21\u5757\u7684\u7ED3\u6784\u4E3A\uFF1A</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">_invokeQueue</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> [</span></span>
<span class="line"><span style="color:#F07178;">        [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">$provide</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">provider</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">$locale</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">function</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">$LocaleProvider</span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{}</span><span style="color:#F07178;">]]</span></span>
<span class="line"><span style="color:#F07178;">    ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">_configBlocks</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> []</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">_runBlocks</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> []</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">requires</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> []</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">name</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">ngLocale</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;">// ... ...</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>\u5728\u52A0\u8F7D<code>ngLocale</code>\u6A21\u5757\u7684\u65F6\u5019\uFF0C\u4F1A\u6267\u884C<code>runInvokeQueue(moduleFn._invokeQueue)</code>\uFF0C\u4ECE\u800C\u8C03\u7528\uFF1A</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">providerInjector</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">get</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">$provide</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">provider</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">$locale</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">$LocaleProvider</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;">// \u4E5F\u5C31\u662F</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">providerCache</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">$provide</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">provider</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">$locale</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">$LocaleProvider</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><p>\u5176\u4F5C\u7528\u4E5F\u5C31\u662F\u521B\u5EFA\u4E86\u4E00\u4E2A<code>$LocaleProvider</code>\u7684\u5B9E\u4F8B\uFF0C\u5E76\u5C06\u5176\u7F13\u5B58\u5728<code>providerCache.$localeProvider</code>\u4E0A\u3002</p><p>\uFF082\uFF09\u52A0\u8F7Dng\u6A21\u5757</p><p>\u63A5\u4E0B\u6765\u52A0\u8F7D<code>ng</code>\u6A21\u5757\uFF0C\u6CE8\u518C<code>ng</code>\u6A21\u5757\u7684\u6E90\u7801\u4E3A\uFF1A</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki"><code><span class="line"><span style="color:#82AAFF;">angularModule</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">ng</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">ngLocale</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">$provide</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">ngModule</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">$provide</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;">// $$sanitizeUriProvider needs to be before $compileProvider as it is used by it.</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">$provide</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">provider</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">            $$sanitizeUri</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">$$SanitizeUriProvider</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">$provide</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">provider</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">$compile</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">$CompileProvider</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">.</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#82AAFF;">directive</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">            a</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">htmlAnchorDirective</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">            input</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">inputDirective</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">            textarea</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">inputDirective</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">            form</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">formDirective</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">            </span><span style="color:#676E95;">// other directives ...</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">.</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#82AAFF;">directive</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">            ngInclude</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">ngIncludeFillContentDirective</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">.</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#82AAFF;">directive</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">ngAttributeAliasDirectives</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">.</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#82AAFF;">directive</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">ngEventDirectives</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">$provide</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">provider</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">            $anchorScroll</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">$AnchorScrollProvider</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">            $animate</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">$AnimateProvider</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">            $$animateQueue</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">$$CoreAnimateQueueProvider</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">            $$AnimateRunner</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">$$CoreAnimateRunnerProvider</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">            </span><span style="color:#676E95;">// other providers ...</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">])</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><p><code>ng</code>\u6A21\u5757\u7684\u7ED3\u6784\u5728\u4E4B\u524D\u5DF2\u7ECF\u8BF4\u660E\uFF0C\u56E0\u6B64\u4F1A\u8C03\u7528\uFF1A</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">providerInjector</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">get</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">$injector</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">invoke</span><span style="color:#A6ACCD;">([</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">$provide</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">ngModule</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">$provide</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{}</span><span style="color:#A6ACCD;">])</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;">// \u4E5F\u5C31\u662F</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">providerInjector</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">invoke</span><span style="color:#A6ACCD;">([</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">$provide</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">ngModule</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">$provide</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{}</span><span style="color:#A6ACCD;">])</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;">// \u5373\u6267\u884C</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">ngModule</span><span style="color:#A6ACCD;">(providerCache</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">$provide)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><p>\u56E0\u6B64\uFF0C\u52A0\u8F7D<code>ng</code>\u6A21\u5757\u7684\u8FC7\u7A0B\uFF0C\u5B9E\u9645\u4E0A\u4E5F\u5C31\u662F\u521D\u59CB\u5316\u4E00\u7CFB\u5217Provider\u7684\u8FC7\u7A0B\u3002\u5230\u6B64\u4E3A\u6B62\uFF0C\u5DF2\u7ECF\u5C06\u4E00\u7CFB\u5217\u7684Provider\u7F13\u5B58\u5728<code>providerCache</code>\u4E2D\u3002</p><h2 id="_5-mymodule\u6A21\u5757\u7684\u52A0\u8F7D" tabindex="-1">5. MyModule\u6A21\u5757\u7684\u52A0\u8F7D <a class="header-anchor" href="#_5-mymodule\u6A21\u5757\u7684\u52A0\u8F7D" aria-hidden="true">#</a></h2><p>\u52A0\u8F7D<code>MyModule</code>\u6A21\u5757\u7684\u65F6\u5019\uFF0C\u5B9E\u9645\u4E0A\u5C31\u662F\u6267\u884C\uFF1A</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">providerInjector</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">get</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">$controllerProvider</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">register</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">ctrl</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">$scope</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">$scope</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{}</span><span style="color:#A6ACCD;">])</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><p>\u7531\u4E8E\u5728\u52A0\u8F7D<code>ng</code>\u6A21\u5757\u7684\u65F6\u5019\u5DF2\u7ECF\u5C06<code>$controllerProvider</code>\u6302\u8F7D\u5230<code>providerCache</code>\u4E0A\u4E86\uFF0C\u56E0\u6B64\u8FD9\u91CC\u5C31\u662F\u76F4\u63A5\u8C03\u7528\u5176<code>register</code>\u65B9\u6CD5\u6765\u6CE8\u518C\u63A7\u5236\u5668\u3002</p>`,41),e=[o];function c(r,t,F,D,y,i){return n(),a("div",null,e)}const d=s(p,[["render",c]]);export{C as __pageData,d as default};
