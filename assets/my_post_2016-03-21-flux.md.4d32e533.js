import{_ as s,o as a,c as n,a as l}from"./app.cad5a936.js";const p="/assets/flux-diagram.e7d647bf.png",o="/assets/flux-simple-diagram.a9278a0a.png",u=JSON.parse('{"title":"\u8C08\u8C08Flux","description":"","frontmatter":{"layout":"post","title":"\u8C08\u8C08Flux","date":"2016-03-21 11:00:00 +0800"},"headers":[{"level":2,"title":"1. \u4EC0\u4E48\u662FFlux","slug":"_1-\u4EC0\u4E48\u662Fflux","link":"#_1-\u4EC0\u4E48\u662Fflux","children":[]},{"level":2,"title":"2. \u4E3A\u4EC0\u4E48\u8981\u4F7F\u7528Flux","slug":"_2-\u4E3A\u4EC0\u4E48\u8981\u4F7F\u7528flux","link":"#_2-\u4E3A\u4EC0\u4E48\u8981\u4F7F\u7528flux","children":[]},{"level":2,"title":"3. Flux\u7684\u57FA\u672C\u7ED3\u6784","slug":"_3-flux\u7684\u57FA\u672C\u7ED3\u6784","link":"#_3-flux\u7684\u57FA\u672C\u7ED3\u6784","children":[]},{"level":2,"title":"4. \u5982\u4F55\u4F7F\u7528","slug":"_4-\u5982\u4F55\u4F7F\u7528","link":"#_4-\u5982\u4F55\u4F7F\u7528","children":[]},{"level":2,"title":"5. \u6CE8\u610F\u70B9","slug":"_5-\u6CE8\u610F\u70B9","link":"#_5-\u6CE8\u610F\u70B9","children":[]},{"level":2,"title":"6. \u53C2\u8003\u8D44\u6599","slug":"_6-\u53C2\u8003\u8D44\u6599","link":"#_6-\u53C2\u8003\u8D44\u6599","children":[]}],"relativePath":"my/post/2016-03-21-flux.md"}'),e={name:"my/post/2016-03-21-flux.md"},t=l('<h2 id="_1-\u4EC0\u4E48\u662Fflux" tabindex="-1">1. \u4EC0\u4E48\u662FFlux <a class="header-anchor" href="#_1-\u4EC0\u4E48\u662Fflux" aria-hidden="true">#</a></h2><p>\u9996\u5148\uFF0CFlux\u662F\u4E00\u79CD\u5E94\u7528\u67B6\u6784\uFF0C\u662F\u4E00\u79CD\u6A21\u5F0F\uFF0C\u800C\u4E0D\u662F\u4E00\u4E2A\u6846\u67B6\u3002\u5B83\u6709\u7740\u591A\u79CD\u5B9E\u73B0\u3002\u4F8B\u5982<a href="https://github.com/facebook/flux" target="_blank" rel="noreferrer">Facebook\u5B98\u65B9\u5B9E\u73B0</a>\uFF0C<a href="https://github.com/reactjs/redux" target="_blank" rel="noreferrer">Redux</a>\u7B49\u3002</p><h2 id="_2-\u4E3A\u4EC0\u4E48\u8981\u4F7F\u7528flux" tabindex="-1">2. \u4E3A\u4EC0\u4E48\u8981\u4F7F\u7528Flux <a class="header-anchor" href="#_2-\u4E3A\u4EC0\u4E48\u8981\u4F7F\u7528flux" aria-hidden="true">#</a></h2><p>Flux\u7684\u51FA\u73B0\u4E3B\u8981\u662F\u4E3A\u4E86\u89E3\u51B3\u5E94\u7528\u7684\u72B6\u6001\u7EF4\u62A4\u95EE\u9898\u3002\u5728\u5C0F\u578B\u9879\u76EE\u4E2D\uFF0CModel\u548CView\u53EF\u80FD\u662F\u4E00\u4E00\u5BF9\u5E94\u7684\u5173\u7CFB\uFF0C\u7EF4\u62A4\u8D77\u6765\u5E76\u4E0D\u56F0\u96BE\u3002\u4F46\u662F\u968F\u7740\u5E94\u7528\u89C4\u6A21\u7684\u6269\u5927\uFF0CModel\u548CView\u901A\u5E38\u662F\u591A\u5BF9\u591A\u7684\u5173\u7CFB\uFF0C\u6BCF\u4E00\u4E2AModel\u7684\u6539\u53D8\uFF0C\u548C\u5B83\u76F8\u5173\u7684View\u90FD\u8981\u6539\u53D8\uFF1B\u6BCF\u4E2AView\u7684\u64CD\u4F5C\uFF0C\u4E5F\u90FD\u8981\u53CD\u6620\u5230\u5B83\u76F8\u5173\u7684Model\u4E0A\u3002\u5728\u8FD9\u79CD\u60C5\u51B5\u4E0B\uFF0C\u72B6\u6001\u7684\u7EF4\u62A4\u4F1A\u53D8\u5F97\u590D\u6742\u548C\u6DF7\u4E71\u3002</p><h2 id="_3-flux\u7684\u57FA\u672C\u7ED3\u6784" tabindex="-1">3. Flux\u7684\u57FA\u672C\u7ED3\u6784 <a class="header-anchor" href="#_3-flux\u7684\u57FA\u672C\u7ED3\u6784" aria-hidden="true">#</a></h2><p>Flux\u7684\u57FA\u672C\u7ED3\u6784\u5982\u56FE\uFF1A</p><p><img src="'+p+'" alt="Flux Diagram"></p><blockquote><p>\u56FE\u7247\u6765\u6E90\uFF1A<a href="https://github.com/facebook/flux" target="_blank" rel="noreferrer">https://github.com/facebook/flux</a></p></blockquote><p>\u7B80\u5316\u7ED3\u6784\u5982\u4E0B\uFF1A</p><p><img src="'+o+`" alt="Flx Simple Diagram"></p><blockquote><p>\u56FE\u7247\u6765\u6E90\uFF1A<a href="https://facebook.github.io/flux/docs/overview.html#content" target="_blank" rel="noreferrer">https://facebook.github.io/flux/docs/overview.html#content</a></p></blockquote><p>\u9996\u5148\uFF0C\u53EF\u4EE5\u770B\u5230Flux\u7684\u4E00\u4E2A\u7279\u70B9\u662F<strong>\u5355\u5411\u6570\u636E\u6D41</strong>\u3002</p><p>Flux\u7684\u57FA\u672C\u7EC4\u6210\u5305\u62EC\uFF1A</p><ul><li>View</li><li>Action</li><li>Dispatcher</li><li>Store</li></ul><p>\u5B83\u4EEC\u7684\u529F\u80FD\u548C\u5173\u7CFB\u662F\uFF1A</p><ul><li>View\u8D1F\u8D23\u5C55\u793A\u7ED9\u7528\u6237</li><li>\u7528\u6237\u4E0EView\u7684\u4EA4\u4E92\u4F1A\u53D1\u51FAAction\uFF0C\u4F8B\u5982click\u64CD\u4F5C</li><li>Dispatcher\u6536\u5230Action\u540E\u8FDB\u884C\u6D3E\u53D1\u7ED9\u76F8\u5E94\u7684Store</li><li>Store\u66F4\u65B0\u6570\u636E\uFF0C\u53D1\u51FAchange\u4E8B\u4EF6</li><li>View\u63A5\u6536\u5230change\u4E8B\u4EF6\uFF0C\u66F4\u65B0\u754C\u9762</li></ul><h2 id="_4-\u5982\u4F55\u4F7F\u7528" tabindex="-1">4. \u5982\u4F55\u4F7F\u7528 <a class="header-anchor" href="#_4-\u5982\u4F55\u4F7F\u7528" aria-hidden="true">#</a></h2><p>\u4E0B\u9762\u901A\u8FC7\u4E00\u4E2A<a href="https://github.com/simplest-demos/simplest-flux-demo" target="_blank" rel="noreferrer">\u975E\u5E38\u7B80\u5355\u7684\u4F8B\u5B50</a>\u6765\u4ECB\u7ECDFlux\u7684\u57FA\u672C\u4F7F\u7528\u3002</p><p>\uFF081\uFF09 Dispatcher</p><p>Dispatcher\u7684\u521B\u5EFA\u975E\u5E38\u7B80\u5355\uFF1A</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki"><code><span class="line"><span style="color:#C792EA;">var</span><span style="color:#A6ACCD;"> Dispatcher </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">flux</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">Dispatcher</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Dispatcher</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><p>\uFF082\uFF09 Action</p><p>Action\u5C31\u662F\u4E00\u4E2A\u666E\u901A\u7684\u5BF9\u8C61\uFF0C\u5728Action\u4E2D\u901A\u8FC7<code>dispatcher.dispatch(payload)</code>\u6765\u5206\u53D1\u4E8B\u4EF6\u3002\u6BCF\u4E2A<code>payload</code>\u6709\u4E00\u4E2A<code>type</code>\uFF08\u6216\u7C7B\u4F3C\u7684\u540D\u79F0\uFF09\u5C5E\u6027\u6765\u8868\u793AAction\u7684\u7C7B\u578B\uFF0C\u6B64\u5916\u53EF\u4EE5\u6709\u5176\u5B83\u7684\u5C5E\u6027\u6765\u4F20\u9012\u8BE5Action\u6240\u76F8\u5173\u7684\u6570\u636E\u3002</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> dispatcher </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./dispatcher</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">var</span><span style="color:#A6ACCD;"> actions </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">addItem</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">text</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">dispatcher</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">dispatch</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">            type</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">add</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#A6ACCD;">text</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> actions</span></span>
<span class="line"></span></code></pre></div><p>\uFF083\uFF09 Store</p><p>Store\u7528\u6765\u5B58\u653E\u6570\u636E\u6A21\u578B\u3002\u901A\u8FC7\u4E8B\u4EF6\u7CFB\u7EDF\uFF08\u8FD9\u91CC\u4F7F\u7528\u7684\u662FNode\u7684EventEmitter\uFF0C\u4E5F\u53EF\u4EE5\u4F7F\u7528\u5176\u5B83\u7684\u5B9E\u73B0\uFF09\u53EF\u4EE5\u53D1\u51FA\u548C\u63A5\u6536\u4E8B\u4EF6\u3002</p><p>\u901A\u8FC7<code>dispatcher.register(callback)</code>\u6765\u6CE8\u518C\u56DE\u8C03\u51FD\u6570\uFF0C\u4ECE\u800C\u5F53Dispatcher\u63A5\u6536\u5230Action\u7684\u65F6\u5019\uFF0C\u4F1A\u901A\u77E5Store\u6765\u66F4\u65B0\u6570\u636E\u3002</p><p>\u5F53Store\u66F4\u65B0\u540E\uFF0C\u8981\u53D1\u51FAchange\u4E8B\u4EF6\u3002</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> EventEmitter </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">events</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">EventEmitter</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> dispatcher </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./dispatcher</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">var</span><span style="color:#A6ACCD;"> items </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> []</span></span>
<span class="line"><span style="color:#C792EA;">var</span><span style="color:#A6ACCD;"> store </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">create</span><span style="color:#A6ACCD;">(</span><span style="color:#FFCB6B;">EventEmitter</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prototype</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">items</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#82AAFF;">get</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#89DDFF;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">items</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">addItem</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">text</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">items</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">push</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">text</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">dispatcher</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">register</span><span style="color:#A6ACCD;">(</span><span style="color:#C792EA;">function</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">action</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">switch</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">action</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">type</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">case</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">add</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#82AAFF;">addItem</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">action</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">text</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#A6ACCD;">store</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">emit</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">change</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#89DDFF;">break</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">default</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#89DDFF;">break</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> store</span></span>
<span class="line"></span></code></pre></div><p>\uFF084\uFF09 View</p><p>View\u5C31\u662FReact\u7684\u7EC4\u4EF6\u4E86\u3002\u7528\u6237\u7684\u4EA4\u4E92\u4F1A\u901A\u8FC7Action\u53D1\u51FA\u4E8B\u4EF6\u3002</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> React </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">react</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> store </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./store</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> action </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./action</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">App</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">React</span><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">Component</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">constructor</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">props</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;">// ...</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">componentDidMount</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">store</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">on</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">change</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">onItemsChange</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">bind</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">this</span><span style="color:#F07178;">))</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">componentWillUnmount</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">store</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">removeListener</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">change</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">onItemsChange</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">bind</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">this</span><span style="color:#F07178;">))</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">onItemsChange</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;">// ...</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;">// ...</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">addItem</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">action</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">addItem</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">state</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">value</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;">// ...</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">render</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;">// ...</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> App</span></span>
<span class="line"></span></code></pre></div><h2 id="_5-\u6CE8\u610F\u70B9" tabindex="-1">5. \u6CE8\u610F\u70B9 <a class="header-anchor" href="#_5-\u6CE8\u610F\u70B9" aria-hidden="true">#</a></h2><ul><li>\u53EA\u6709\u4E00\u4E2A\u5168\u5C40\u7684Dispatcher</li><li>Action\u7528\u6765\u63CF\u8FF0\u505A\u4EC0\u4E48\u4E8B\uFF0C\u901A\u8FC7<code>dispatcher.dispatch(payload)</code>\u6765\u5206\u53D1\u4E8B\u4EF6\uFF0C\u4E0D\u6D89\u53CA\u5177\u4F53\u7684\u6570\u636E\u903B\u8F91</li><li>Store\u4E0D\u662FModel\uFF0CStore\u5185\u5B58\u653E\u7740Model</li><li>\u5982\u679C\u5E94\u7528\u89C4\u6A21\u8F83\u5927\uFF0C\u53EF\u4EE5\u6839\u636E\u5E94\u7528\u6A21\u5757\u6765\u5206\u6210\u591A\u4E2AStore</li><li>\u53EA\u6709Store\u624D\u53EF\u4EE5\u901A\u8FC7<code>dispatcher.register(callback)</code>\u6765\u6CE8\u518C\u56DE\u8C03\u51FD\u6570</li></ul><h2 id="_6-\u53C2\u8003\u8D44\u6599" tabindex="-1">6. \u53C2\u8003\u8D44\u6599 <a class="header-anchor" href="#_6-\u53C2\u8003\u8D44\u6599" aria-hidden="true">#</a></h2><ul><li><a href="https://facebook.github.io/flux/" target="_blank" rel="noreferrer">Flux\u5B98\u7F51</a></li><li><a href="https://github.com/facebook/flux" target="_blank" rel="noreferrer">Flux Github</a></li><li><a href="http://blog.andrewray.me/flux-for-stupid-people/" target="_blank" rel="noreferrer">Flux For Stupid People</a></li></ul>`,36),c=[t];function r(D,F,y,i,A,C){return a(),n("div",null,c)}const h=s(e,[["render",r]]);export{u as __pageData,h as default};
