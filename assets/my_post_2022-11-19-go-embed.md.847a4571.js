import{_ as s,o as n,c as a,a as l}from"./app.d9deb4d4.js";const i=JSON.parse('{"title":"\u5C06\u9759\u6001\u8D44\u6E90\u6253\u5305\u8FDBgo binary","description":"","frontmatter":{"layout":"post","title":"\u5C06\u9759\u6001\u8D44\u6E90\u6253\u5305\u8FDBgo binary","date":"2022-11-19 11:00:00 +0800"},"headers":[],"relativePath":"my/post/2022-11-19-go-embed.md"}'),p={name:"my/post/2022-11-19-go-embed.md"},o=l(`<p>\u5728\u4F7F\u7528 Go \u8FDB\u884C\u5F00\u53D1\u7684\u65F6\u5019\uFF0C\u7ECF\u5E38\u4F1A\u9047\u5230\u4E00\u4E9B\u9700\u8981\u4EE5\u6765\u9759\u6001\u8D44\u6E90\u7684\u60C5\u51B5\uFF0C\u4F8B\u5982\uFF1A</p><ul><li>\u914D\u7F6E\u6587\u4EF6</li><li>\u7BA1\u7406\u540E\u53F0\u7684\u9759\u6001\u8D44\u6E90\uFF08\u5404\u79CD HTML\u3001CSS\u3001JS\u3001\u56FE\u7247\u7B49\uFF09</li></ul><p>\u5728\u8FD9\u79CD\u60C5\u51B5\u4E0B\uFF0C\u5982\u679C\u6700\u7EC8\u7684\u53D1\u5E03\u5305\u662F\u4E00\u4E2A\u4E8C\u8FDB\u5236\u6587\u4EF6\u548C\u4E00\u5806\u6240\u4F9D\u8D56\u7684\u9759\u6001\u8D44\u6E90\uFF0C\u4F7F\u7528\u8D77\u6765\u5C31\u4F1A\u975E\u5E38\u4E0D\u65B9\u4FBF\uFF0C\u4F8B\u5982\uFF1A</p><ul><li>\u7531\u4E8E\u8D44\u6E90\u8DEF\u5F84\u7B49\u95EE\u9898\u5BFC\u81F4\u7684\u8D44\u6E90\u65E0\u6CD5\u89E3\u6790</li><li>\u8BEF\u5220\u8D44\u6E90\u6587\u4EF6\u5BFC\u81F4\u7A0B\u5E8F\u5D29\u6E83</li></ul><p>\u5728\u8FD9\u79CD\u60C5\u51B5\u4E0B\uFF0C\u6211\u4EEC\u53EF\u4EE5\u901A\u8FC7 <code>embed</code> \u5305\u5C06\u9759\u6001\u8D44\u6E90\u6253\u5305\u8FDB\u4E8C\u8FDB\u5236\u6587\u4EF6\u4E2D\uFF0C\u8FD9\u6837\u6700\u7EC8\u53EA\u9700\u8981\u53D1\u5E03\u4E00\u4E2A\u4E8C\u8FDB\u5236\u6587\u4EF6\u5373\u53EF\u3002</p><p>\u901A\u8FC7\u5F15\u5165 <code>embed</code> \u5305\u4EE5\u53CA <code>//go: embed</code> \u6307\u4EE4\u5C31\u53EF\u4EE5\u5C06\u9759\u6001\u8D44\u6E90\u6253\u5305\u8FDB\u53D1\u5E03\u5305\uFF0C\u652F\u6301\u5C06\u6587\u4EF6\u6253\u5305\u4E3A\u5982\u4E0B\u4E09\u79CD\u683C\u5F0F\uFF1A</p><ul><li><code>string</code></li><li><code>[]byte</code></li><li><code>embed.FS</code></li></ul><p>\u4F8B\u5982\uFF1A</p><div class="language-go"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">package</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">main</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">embed</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">fmt</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;">//go:embed hello.txt</span></span>
<span class="line"><span style="color:#89DDFF;">var</span><span style="color:#A6ACCD;"> s </span><span style="color:#C792EA;">string</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;">//go:embed hello.txt</span></span>
<span class="line"><span style="color:#89DDFF;">var</span><span style="color:#A6ACCD;"> b </span><span style="color:#89DDFF;">[]</span><span style="color:#C792EA;">byte</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;">//go:embed hello.txt greeting.txt</span></span>
<span class="line"><span style="color:#89DDFF;">var</span><span style="color:#A6ACCD;"> f embed</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">FS</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">func</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">main</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  fmt</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Println</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">s</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">  fmt</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Println</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">b</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">  data</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> _ </span><span style="color:#89DDFF;">:=</span><span style="color:#A6ACCD;"> f</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">ReadFile</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">greeting.txt</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">string</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">data</span><span style="color:#89DDFF;">))</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>\u57FA\u4E8E\u8FD9\u6837\u7684\u80FD\u529B\uFF0C\u6211\u4EEC\u8FD8\u53EF\u4EE5\u5C06\u6574\u4E2A\u9759\u6001\u7F51\u7AD9\u6253\u5305\u8FDB\u4E8C\u8FDB\u5236\u5305\uFF0C\u4F8B\u5982\u7BA1\u7406\u540E\u53F0\u3001\u6587\u6863\u3001\u535A\u5BA2\u7B49\u3002\u53C2\u8003\u5982\u4E0B\uFF1A</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">.</span></span>
<span class="line"><span style="color:#A6ACCD;">\u251C\u2500\u2500 blog</span></span>
<span class="line"><span style="color:#A6ACCD;">\u2502   \u251C\u2500\u2500 404.html</span></span>
<span class="line"><span style="color:#A6ACCD;">\u2502   \u251C\u2500\u2500 assets</span></span>
<span class="line"><span style="color:#A6ACCD;">\u2502   \u251C\u2500\u2500 favicon.ico</span></span>
<span class="line"><span style="color:#A6ACCD;">\u2502   \u2514\u2500\u2500 index.html</span></span>
<span class="line"><span style="color:#A6ACCD;">\u251C\u2500\u2500 go.mod</span></span>
<span class="line"><span style="color:#A6ACCD;">\u2514\u2500\u2500 main.go</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="language-go"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">package</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">main</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">embed</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">fmt</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">io/fs</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">net/http</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;">//go:embed blog</span></span>
<span class="line"><span style="color:#89DDFF;">var</span><span style="color:#A6ACCD;"> f embed</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">FS</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">func</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">main</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  blog</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> _ </span><span style="color:#89DDFF;">:=</span><span style="color:#A6ACCD;"> fs</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Sub</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">f</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">blog</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">  fmt</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Go to http://localhost:8080</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">  http</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Handle</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">/</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> http</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">FileServer</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">http</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">FS</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">blog</span><span style="color:#89DDFF;">)))</span></span>
<span class="line"><span style="color:#A6ACCD;">  http</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">ListenAndServe</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">:8080</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">nil)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div>`,12),e=[o];function t(c,D,F,r,y,A){return n(),a("div",null,e)}const d=s(p,[["render",t]]);export{i as __pageData,d as default};
