import{_ as s,o as n,c as a,a as l}from"./app.b58a8acc.js";const g=JSON.parse('{"title":"Ingress","description":"","frontmatter":{},"headers":[{"level":2,"title":"Ingress \u548C Ingress Controller","slug":"ingress-\u548C-ingress-controller","link":"#ingress-\u548C-ingress-controller","children":[]},{"level":2,"title":"\u5B89\u88C5 Ingress Controller","slug":"\u5B89\u88C5-ingress-controller","link":"#\u5B89\u88C5-ingress-controller","children":[]},{"level":2,"title":"\u521B\u5EFA Ingress","slug":"\u521B\u5EFA-ingress","link":"#\u521B\u5EFA-ingress","children":[{"level":3,"title":"IP \u8BBF\u95EE","slug":"ip-\u8BBF\u95EE","link":"#ip-\u8BBF\u95EE","children":[]},{"level":3,"title":"\u57DF\u540D\u5206\u6D41","slug":"\u57DF\u540D\u5206\u6D41","link":"#\u57DF\u540D\u5206\u6D41","children":[]}]},{"level":2,"title":"\u53C2\u8003","slug":"\u53C2\u8003","link":"#\u53C2\u8003","children":[]}],"relativePath":"notes/kubernetes/resources/ingress.md"}'),e={name:"notes/kubernetes/resources/ingress.md"},p=l(`<h1 id="ingress" tabindex="-1">Ingress <a class="header-anchor" href="#ingress" aria-hidden="true">#</a></h1><h2 id="ingress-\u548C-ingress-controller" tabindex="-1">Ingress \u548C Ingress Controller <a class="header-anchor" href="#ingress-\u548C-ingress-controller" aria-hidden="true">#</a></h2><p>Ingress \u53EF\u4EE5\u5C06\u96C6\u7FA4\u5185\u7684\u670D\u52A1\u5BF9\u5916\u66B4\u9732\uFF0C\u5E76\u4E14\u63D0\u4F9B\u4E86\u8D1F\u8F7D\u5747\u8861\uFF0CHTTPS\uFF0C\u4EE5\u53CA\u57FA\u4E8E\u57DF\u540D\u7684\u5206\u6D41\u652F\u6301\u3002Ingress \u672C\u8EAB\u662F\u4E00\u79CD\u914D\u7F6E\uFF0C\u914D\u7F6E\u4E86\u5982\u4F55\u5BF9\u5916\u63D0\u4F9B\u670D\u52A1\u3002</p><p>\u5982\u679C\u9700\u8981 Ingress \u771F\u6B63\u751F\u6548\uFF0C\u9700\u8981\u4F9D\u8D56\u4E8E Ingress Controller\u3002\u53EF\u4EE5\u7B80\u5355\u7C7B\u6BD4\u4E3A\uFF0CIngress Controller \u5C31\u50CF\u662F Nginx\uFF0C\u800C Ingress \u5219\u662F Nginx \u7684\u914D\u7F6E\u3002</p><p>\u5E38\u89C1\u7684 Ingress Controller \u6709\u591A\u79CD\uFF0C\u4F8B\u5982 <a href="https://kubernetes.github.io/ingress-nginx/" target="_blank" rel="noreferrer">ingress-nginx</a>\uFF0C<a href="https://www.getambassador.io/" target="_blank" rel="noreferrer">ambassador</a> \u7B49\uFF0C\u4F7F\u7528\u4E0D\u540C\u7684 Ingress Controller \u7684\u65F6\u5019\uFF0CIngress \u7684\u914D\u7F6E\u4E5F\u4F1A\u6709\u6240\u5DEE\u522B\u3002</p><p>\u8FD9\u91CC\u4EE5 ingress-nginx \u4E3A\u4F8B\u3002</p><h2 id="\u5B89\u88C5-ingress-controller" tabindex="-1">\u5B89\u88C5 Ingress Controller <a class="header-anchor" href="#\u5B89\u88C5-ingress-controller" aria-hidden="true">#</a></h2><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">$ helm install --name nginx --namespace ingress-nginx stable/nginx-ingress</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">$ kubectl get all -n ingress-nginx</span></span>
<span class="line"><span style="color:#A6ACCD;">NAME                                                      READY   STATUS    RESTARTS   AGE</span></span>
<span class="line"><span style="color:#A6ACCD;">pod/nginx-nginx-ingress-controller-7d9449d76c-v4cf9       1/1     Running   0          30s</span></span>
<span class="line"><span style="color:#A6ACCD;">pod/nginx-nginx-ingress-default-backend-7f79f9545-9px9f   1/1     Running   0          30s</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">NAME                                          TYPE           CLUSTER-IP       EXTERNAL-IP   PORT</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">S</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">                      AGE</span></span>
<span class="line"><span style="color:#A6ACCD;">service/nginx-nginx-ingress-controller        LoadBalancer   10.97.45.251     localhost     80:30432/TCP,443:32760/TCP   30s</span></span>
<span class="line"><span style="color:#A6ACCD;">service/nginx-nginx-ingress-default-backend   ClusterIP      10.108.182.134   </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">none</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">        80/TCP                       30s</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">NAME                                                  READY   UP-TO-DATE   AVAILABLE   AGE</span></span>
<span class="line"><span style="color:#A6ACCD;">deployment.apps/nginx-nginx-ingress-controller        1/1     1            1           30s</span></span>
<span class="line"><span style="color:#A6ACCD;">deployment.apps/nginx-nginx-ingress-default-backend   1/1     1            1           30s</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">NAME                                                            DESIRED   CURRENT   READY   AGE</span></span>
<span class="line"><span style="color:#A6ACCD;">replicaset.apps/nginx-nginx-ingress-controller-7d9449d76c       1         1         1       30s</span></span>
<span class="line"><span style="color:#A6ACCD;">replicaset.apps/nginx-nginx-ingress-default-backend-7f79f9545   1         1         1       30s</span></span>
<span class="line"></span></code></pre></div><h2 id="\u521B\u5EFA-ingress" tabindex="-1">\u521B\u5EFA Ingress <a class="header-anchor" href="#\u521B\u5EFA-ingress" aria-hidden="true">#</a></h2><h3 id="ip-\u8BBF\u95EE" tabindex="-1">IP \u8BBF\u95EE <a class="header-anchor" href="#ip-\u8BBF\u95EE" aria-hidden="true">#</a></h3><div class="language-yaml"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki"><code><span class="line"><span style="color:#F07178;">apiVersion</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">networking.k8s.io/v1beta1</span></span>
<span class="line"><span style="color:#F07178;">kind</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Ingress</span></span>
<span class="line"><span style="color:#F07178;">metadata</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">nginx</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">annotations</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">kubernetes.io/ingress.class</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">nginx</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#F07178;">spec</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">rules</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">http</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">paths</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">path</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">backend</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#F07178;">serviceName</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">nginx</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#F07178;">servicePort</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">80</span></span>
<span class="line"></span></code></pre></div><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">$ kubectl get ingress</span></span>
<span class="line"><span style="color:#A6ACCD;">NAME    HOSTS   ADDRESS   PORTS   AGE</span></span>
<span class="line"><span style="color:#A6ACCD;">nginx   </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;">                 80      3s</span></span>
<span class="line"></span></code></pre></div><h3 id="\u57DF\u540D\u5206\u6D41" tabindex="-1">\u57DF\u540D\u5206\u6D41 <a class="header-anchor" href="#\u57DF\u540D\u5206\u6D41" aria-hidden="true">#</a></h3><div class="language-yaml"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki"><code><span class="line"><span style="color:#F07178;">apiVersion</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">networking.k8s.io/v1beta1</span></span>
<span class="line"><span style="color:#F07178;">kind</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Ingress</span></span>
<span class="line"><span style="color:#F07178;">metadata</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">nginx</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">annotations</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">kubernetes.io/ingress.class</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">nginx</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#F07178;">spec</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">rules</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">host</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">nginx-example.com</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">http</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">paths</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">path</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">backend</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#F07178;">serviceName</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">nginx</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#F07178;">servicePort</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">80</span></span>
<span class="line"></span></code></pre></div><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">kubectl get ingress</span></span>
<span class="line"><span style="color:#A6ACCD;">NAME    HOSTS               ADDRESS   PORTS   AGE</span></span>
<span class="line"><span style="color:#A6ACCD;">nginx   nginx-example.com             80      10s</span></span>
<span class="line"></span></code></pre></div><h2 id="\u53C2\u8003" tabindex="-1">\u53C2\u8003 <a class="header-anchor" href="#\u53C2\u8003" aria-hidden="true">#</a></h2><ul><li><a href="https://kubernetes.io/docs/concepts/services-networking/ingress/" target="_blank" rel="noreferrer">Ingress</a></li><li><a href="https://kubernetes.io/docs/concepts/services-networking/ingress-controllers/" target="_blank" rel="noreferrer">Ingress Controllers</a></li></ul>`,17),o=[p];function r(t,c,i,C,D,y){return n(),a("div",null,o)}const F=s(e,[["render",r]]);export{g as __pageData,F as default};
