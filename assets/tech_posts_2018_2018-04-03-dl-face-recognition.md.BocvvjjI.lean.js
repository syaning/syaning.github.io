import{_ as l,c as a,j as t,a as T,ah as s,o as e}from"./chunks/framework.B8QGmHkS.js";const d="/assets/11-1.tIbJQ_vR.png",m="/assets/11-2.C00S9TlD.png",Y=JSON.parse('{"title":"DeepLearning笔记(11)——人脸识别","description":"","frontmatter":{"layout":"post","title":"DeepLearning笔记(11)——人脸识别","date":"2018-04-03 14:30:00 +0800","tags":"MachineLearning"},"headers":[],"relativePath":"tech/posts/2018/2018-04-03-dl-face-recognition.md","filePath":"tech/posts/2018/2018-04-03-dl-face-recognition.md"}'),o={name:"tech/posts/2018/2018-04-03-dl-face-recognition.md"},r={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},n={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"13.897ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 6142.7 1000","aria-hidden":"true"},h={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},i={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.029ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.17ex",height:"1.005ex",role:"img",focusable:"false",viewBox:"0 -431 517 444","aria-hidden":"true"},p={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},g={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"18.084ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 7993.2 1000","aria-hidden":"true"},H={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},c={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.439ex"},xmlns:"http://www.w3.org/2000/svg",width:"8.059ex",height:"2.46ex",role:"img",focusable:"false",viewBox:"0 -893.3 3562 1087.3","aria-hidden":"true"},L={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},w={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"14.068ex",height:"2.587ex",role:"img",focusable:"false",viewBox:"0 -893.3 6218 1143.3","aria-hidden":"true"},f={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},x={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"33.972ex",height:"2.7ex",role:"img",focusable:"false",viewBox:"0 -943.3 15015.7 1193.3","aria-hidden":"true"},y={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},u={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.439ex"},xmlns:"http://www.w3.org/2000/svg",width:"7.67ex",height:"2.46ex",role:"img",focusable:"false",viewBox:"0 -893.3 3390.2 1087.3","aria-hidden":"true"},V={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},M={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"10.607ex",height:"2.587ex",role:"img",focusable:"false",viewBox:"0 -893.3 4688.2 1143.3","aria-hidden":"true"},k={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Z={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"10.607ex",height:"2.587ex",role:"img",focusable:"false",viewBox:"0 -893.3 4688.2 1143.3","aria-hidden":"true"},D={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},v={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-4.172ex"},xmlns:"http://www.w3.org/2000/svg",width:"37.189ex",height:"6.172ex",role:"img",focusable:"false",viewBox:"0 -883.9 16437.7 2728","aria-hidden":"true"},b={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},_={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-4.172ex"},xmlns:"http://www.w3.org/2000/svg",width:"41.086ex",height:"6.172ex",role:"img",focusable:"false",viewBox:"0 -883.9 18160.1 2728","aria-hidden":"true"},j={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},A={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-4.172ex"},xmlns:"http://www.w3.org/2000/svg",width:"48.746ex",height:"6.172ex",role:"img",focusable:"false",viewBox:"0 -883.9 21545.6 2728","aria-hidden":"true"},C={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},R={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"62.889ex",height:"2.565ex",role:"img",focusable:"false",viewBox:"0 -883.9 27797 1133.9","aria-hidden":"true"},O={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},S={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.819ex"},xmlns:"http://www.w3.org/2000/svg",width:"25.033ex",height:"6.354ex",role:"img",focusable:"false",viewBox:"0 -1562.5 11064.5 2808.5","aria-hidden":"true"},E={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},P={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"18.004ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 7957.9 1000","aria-hidden":"true"},X={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},B={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.439ex"},xmlns:"http://www.w3.org/2000/svg",width:"7.67ex",height:"2.46ex",role:"img",focusable:"false",viewBox:"0 -893.3 3390.2 1087.3","aria-hidden":"true"},N={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},I={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"13.679ex",height:"2.587ex",role:"img",focusable:"false",viewBox:"0 -893.3 6046.2 1143.3","aria-hidden":"true"},J={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},G={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.864ex"},xmlns:"http://www.w3.org/2000/svg",width:"37.165ex",height:"6.757ex",role:"img",focusable:"false",viewBox:"0 -1720.9 16427.1 2986.6","aria-hidden":"true"};function z(F,Q,$,U,q,K){return e(),a("div",null,[Q[54]||(Q[54]=t("h2",{id:"_1-人脸验证和人脸识别",tabindex:"-1"},[T("1. 人脸验证和人脸识别 "),t("a",{class:"header-anchor",href:"#_1-人脸验证和人脸识别","aria-label":'Permalink to "1. 人脸验证和人脸识别"'},"​")],-1)),Q[55]||(Q[55]=t("ul",null,[t("li",null,"人脸验证（Face Verification）：1对1问题，即输入图片，判断图片是否是正确的那个人（即已经有了一个人的信息）"),t("li",null,"人脸识别（Face Recognition）：1对n问题，即输入图片，需要输出对应的那个人信息（即已经有了n个人的信息）")],-1)),Q[56]||(Q[56]=t("h2",{id:"_2-one-shot-学习",tabindex:"-1"},[T("2. One-Shot 学习 "),t("a",{class:"header-anchor",href:"#_2-one-shot-学习","aria-label":'Permalink to "2. One-Shot 学习"'},"​")],-1)),Q[57]||(Q[57]=t("p",null,"对于图像的识别，通常需要大量的标注样本。对于一个企业的人脸识别系统，可能数据库中只有每个员工的一张照片，那么就需要通过这一个样本来进行学习，这就是one-shot learning，即单样本学习。",-1)),t("p",null,[Q[6]||(Q[6]=T("相似度函数，用 ")),t("mjx-container",r,[(e(),a("svg",n,Q[0]||(Q[0]=[s("",1)]))),Q[1]||(Q[1]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"d"),t("mo",{stretchy:"false"},"("),t("mi",null,"i"),t("mi",null,"m"),t("mi",null,"g"),t("mn",null,"1"),t("mo",null,","),t("mi",null,"i"),t("mi",null,"m"),t("mi",null,"g"),t("mn",null,"2"),t("mo",{stretchy:"false"},")")])],-1))]),Q[7]||(Q[7]=T(" 表示两张图片之间的不同程度（即两张图片的差异值）。如果两张图片是同一个人，则输出值会很小；如果两张图片是不同的人，则输出值会很大。定义一个阈值 ")),t("mjx-container",h,[(e(),a("svg",i,Q[2]||(Q[2]=[t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D70F",d:"M39 284Q18 284 18 294Q18 301 45 338T99 398Q134 425 164 429Q170 431 332 431Q492 431 497 429Q517 424 517 402Q517 388 508 376T485 360Q479 358 389 358T299 356Q298 355 283 274T251 109T233 20Q228 5 215 -4T186 -13Q153 -13 153 20V30L203 192Q214 228 227 272T248 336L254 357Q254 358 208 358Q206 358 197 358T183 359Q105 359 61 295Q56 287 53 286T39 284Z",style:{"stroke-width":"3"}})])])],-1)]))),Q[3]||(Q[3]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"τ")])],-1))]),Q[8]||(Q[8]=T("，如果 ")),t("mjx-container",p,[(e(),a("svg",g,Q[4]||(Q[4]=[s("",1)]))),Q[5]||(Q[5]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"d"),t("mo",{stretchy:"false"},"("),t("mi",null,"i"),t("mi",null,"m"),t("mi",null,"g"),t("mn",null,"1"),t("mo",null,","),t("mi",null,"i"),t("mi",null,"m"),t("mi",null,"g"),t("mn",null,"2"),t("mo",{stretchy:"false"},")"),t("mo",null,"≤"),t("mi",null,"τ")])],-1))]),Q[9]||(Q[9]=T("，则认为是同一个人；否则认为是不同的人。"))]),Q[58]||(Q[58]=t("h2",{id:"_3-siamese-network",tabindex:"-1"},[T("3. Siamese Network "),t("a",{class:"header-anchor",href:"#_3-siamese-network","aria-label":'Permalink to "3. Siamese Network"'},"​")],-1)),Q[59]||(Q[59]=t("p",null,[T("即孪生网络。相关论文可以参考 "),t("a",{href:"https://www.cv-foundation.org/openaccess/content_cvpr_2014/papers/Taigman_DeepFace_Closing_the_2014_CVPR_paper.pdf",target:"_blank",rel:"noreferrer"},"DeepFace: Closing the Gap to Human-Level Performance in Face Verification")],-1)),t("p",null,[Q[14]||(Q[14]=T("假设有两张人脸的图片 ")),t("mjx-container",H,[(e(),a("svg",c,Q[10]||(Q[10]=[s("",1)]))),Q[11]||(Q[11]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msup",null,[t("mi",null,"x"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{stretchy:"false"},"("),t("mn",null,"1"),t("mo",{stretchy:"false"},")")])]),t("mo",null,","),t("msup",null,[t("mi",null,"x"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{stretchy:"false"},"("),t("mn",null,"2"),t("mo",{stretchy:"false"},")")])])])],-1))]),Q[15]||(Q[15]=T("，分别通过卷积网络来得到一个向量（即softmax之前的向量）")),t("mjx-container",L,[(e(),a("svg",w,Q[12]||(Q[12]=[s("",1)]))),Q[13]||(Q[13]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"f"),t("mo",{stretchy:"false"},"("),t("msup",null,[t("mi",null,"x"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{stretchy:"false"},"("),t("mn",null,"1"),t("mo",{stretchy:"false"},")")])]),t("mo",{stretchy:"false"},")"),t("mo",null,","),t("mi",null,"f"),t("mo",{stretchy:"false"},"("),t("msup",null,[t("mi",null,"x"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{stretchy:"false"},"("),t("mn",null,"2"),t("mo",{stretchy:"false"},")")])]),t("mo",{stretchy:"false"},")")])],-1))]),Q[16]||(Q[16]=T("，认为是这张图片的encoding，则："))]),t("mjx-container",f,[(e(),a("svg",x,Q[17]||(Q[17]=[s("",1)]))),Q[18]||(Q[18]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mi",null,"d"),t("mo",{stretchy:"false"},"("),t("msup",null,[t("mi",null,"x"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{stretchy:"false"},"("),t("mn",null,"1"),t("mo",{stretchy:"false"},")")])]),t("mo",null,","),t("msup",null,[t("mi",null,"x"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{stretchy:"false"},"("),t("mn",null,"2"),t("mo",{stretchy:"false"},")")])]),t("mo",{stretchy:"false"},")"),t("mo",null,"=∣∣"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"f"),t("mo",{stretchy:"false"},"("),t("msup",null,[t("mi",null,"x"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{stretchy:"false"},"("),t("mn",null,"1"),t("mo",{stretchy:"false"},")")])]),t("mo",{stretchy:"false"},")"),t("mo",null,"−"),t("mi",null,"f"),t("mo",{stretchy:"false"},"("),t("msup",null,[t("mi",null,"x"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{stretchy:"false"},"("),t("mn",null,"2"),t("mo",{stretchy:"false"},")")])]),t("mo",{stretchy:"false"},")")]),t("mo",null,"∣"),t("msup",null,[t("mo",null,"∣"),t("mn",null,"2")])])],-1))]),t("p",null,[Q[25]||(Q[25]=T("在训练的时候，要对训练样本中的任意一对 ")),t("mjx-container",y,[(e(),a("svg",u,Q[19]||(Q[19]=[s("",1)]))),Q[20]||(Q[20]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msup",null,[t("mi",null,"x"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{stretchy:"false"},"("),t("mi",null,"i"),t("mo",{stretchy:"false"},")")])]),t("mo",null,","),t("msup",null,[t("mi",null,"x"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{stretchy:"false"},"("),t("mi",null,"j"),t("mo",{stretchy:"false"},")")])])])],-1))]),Q[26]||(Q[26]=T("，保证当两张图片是同一个人的时候，")),t("mjx-container",V,[(e(),a("svg",M,Q[21]||(Q[21]=[s("",1)]))),Q[22]||(Q[22]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"d"),t("mo",{stretchy:"false"},"("),t("msup",null,[t("mi",null,"x"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{stretchy:"false"},"("),t("mi",null,"i"),t("mo",{stretchy:"false"},")")])]),t("mo",null,","),t("msup",null,[t("mi",null,"x"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{stretchy:"false"},"("),t("mi",null,"j"),t("mo",{stretchy:"false"},")")])]),t("mo",{stretchy:"false"},")")])],-1))]),Q[27]||(Q[27]=T(" 很小；当两张图片是不同人的时候，")),t("mjx-container",k,[(e(),a("svg",Z,Q[23]||(Q[23]=[s("",1)]))),Q[24]||(Q[24]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"d"),t("mo",{stretchy:"false"},"("),t("msup",null,[t("mi",null,"x"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{stretchy:"false"},"("),t("mi",null,"i"),t("mo",{stretchy:"false"},")")])]),t("mo",null,","),t("msup",null,[t("mi",null,"x"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{stretchy:"false"},"("),t("mi",null,"j"),t("mo",{stretchy:"false"},")")])]),t("mo",{stretchy:"false"},")")])],-1))]),Q[28]||(Q[28]=T(" 很大。"))]),Q[60]||(Q[60]=t("h2",{id:"_4-triplet-损失",tabindex:"-1"},[T("4. Triplet 损失 "),t("a",{class:"header-anchor",href:"#_4-triplet-损失","aria-label":'Permalink to "4. Triplet 损失"'},"​")],-1)),Q[61]||(Q[61]=t("p",null,[t("img",{src:d,alt:""})],-1)),Q[62]||(Q[62]=t("p",null,"其中：",-1)),Q[63]||(Q[63]=t("ul",null,[t("li",null,"A (Anchor)"),t("li",null,"P (Positive)：正样本，即和Anchor是同一个人"),t("li",null,"N (Negetive)：负样本，即和Anchor是不同的人")],-1)),Q[64]||(Q[64]=t("p",null,"需要满足：",-1)),t("mjx-container",D,[(e(),a("svg",v,Q[29]||(Q[29]=[s("",1)]))),Q[30]||(Q[30]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("munder",null,[t("mrow",{"data-mjx-texclass":"OP"},[t("munder",null,[t("mrow",null,[t("mo",null,"∣∣"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"f"),t("mo",{stretchy:"false"},"("),t("mi",null,"A"),t("mo",{stretchy:"false"},")"),t("mo",null,"−"),t("mi",null,"f"),t("mo",{stretchy:"false"},"("),t("mi",null,"P"),t("mo",{stretchy:"false"},")")]),t("mo",null,"∣"),t("msup",null,[t("mo",null,"∣"),t("mn",null,"2")])]),t("mo",null,"⏟")])]),t("mtext",null,"d(A,P)")]),t("mo",null,"≤"),t("munder",null,[t("mrow",{"data-mjx-texclass":"OP"},[t("munder",null,[t("mrow",null,[t("mo",null,"∣∣"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"f"),t("mo",{stretchy:"false"},"("),t("mi",null,"A"),t("mo",{stretchy:"false"},")"),t("mo",null,"−"),t("mi",null,"f"),t("mo",{stretchy:"false"},"("),t("mi",null,"N"),t("mo",{stretchy:"false"},")")]),t("mo",null,"∣"),t("msup",null,[t("mo",null,"∣"),t("mn",null,"2")])]),t("mo",null,"⏟")])]),t("mtext",null,"d(A,N)")])])],-1))]),Q[65]||(Q[65]=t("p",null,"即：",-1)),t("mjx-container",b,[(e(),a("svg",_,Q[31]||(Q[31]=[s("",1)]))),Q[32]||(Q[32]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("munder",null,[t("mrow",{"data-mjx-texclass":"OP"},[t("munder",null,[t("mrow",null,[t("mo",null,"∣∣"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"f"),t("mo",{stretchy:"false"},"("),t("mi",null,"A"),t("mo",{stretchy:"false"},")"),t("mo",null,"−"),t("mi",null,"f"),t("mo",{stretchy:"false"},"("),t("mi",null,"P"),t("mo",{stretchy:"false"},")")]),t("mo",null,"∣"),t("msup",null,[t("mo",null,"∣"),t("mn",null,"2")])]),t("mo",null,"⏟")])]),t("mtext",null,"d(A,P)")]),t("mo",null,"−"),t("munder",null,[t("mrow",{"data-mjx-texclass":"OP"},[t("munder",null,[t("mrow",null,[t("mo",null,"∣∣"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"f"),t("mo",{stretchy:"false"},"("),t("mi",null,"A"),t("mo",{stretchy:"false"},")"),t("mo",null,"−"),t("mi",null,"f"),t("mo",{stretchy:"false"},"("),t("mi",null,"N"),t("mo",{stretchy:"false"},")")]),t("mo",null,"∣"),t("msup",null,[t("mo",null,"∣"),t("mn",null,"2")])]),t("mo",null,"⏟")])]),t("mtext",null,"d(A,N)")]),t("mo",null,"≤"),t("mn",null,"0")])],-1))]),Q[66]||(Q[66]=t("p",null,"但是这种情况下，如果每张图片的encoding都是一个零向量，则上面的式子总是满足的。因此需要：",-1)),t("mjx-container",j,[(e(),a("svg",A,Q[33]||(Q[33]=[s("",1)]))),Q[34]||(Q[34]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("munder",null,[t("mrow",{"data-mjx-texclass":"OP"},[t("munder",null,[t("mrow",null,[t("mo",null,"∣∣"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"f"),t("mo",{stretchy:"false"},"("),t("mi",null,"A"),t("mo",{stretchy:"false"},")"),t("mo",null,"−"),t("mi",null,"f"),t("mo",{stretchy:"false"},"("),t("mi",null,"P"),t("mo",{stretchy:"false"},")")]),t("mo",null,"∣"),t("msup",null,[t("mo",null,"∣"),t("mn",null,"2")])]),t("mo",null,"⏟")])]),t("mtext",null,"d(A,P)")]),t("mo",null,"−"),t("munder",null,[t("mrow",{"data-mjx-texclass":"OP"},[t("munder",null,[t("mrow",null,[t("mo",null,"∣∣"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"f"),t("mo",{stretchy:"false"},"("),t("mi",null,"A"),t("mo",{stretchy:"false"},")"),t("mo",null,"−"),t("mi",null,"f"),t("mo",{stretchy:"false"},"("),t("mi",null,"N"),t("mo",{stretchy:"false"},")")]),t("mo",null,"∣"),t("msup",null,[t("mo",null,"∣"),t("mn",null,"2")])]),t("mo",null,"⏟")])]),t("mtext",null,"d(A,N)")]),t("mo",null,"+"),t("munder",null,[t("mrow",{"data-mjx-texclass":"OP"},[t("munder",null,[t("mi",null,"α"),t("mo",null,"⏟")])]),t("mtext",null,"margin")]),t("mo",null,"≤"),t("mn",null,"0")])],-1))]),Q[67]||(Q[67]=t("p",null,"定义损失函数：",-1)),t("mjx-container",C,[(e(),a("svg",R,Q[35]||(Q[35]=[s("",1)]))),Q[36]||(Q[36]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-variant":"-tex-calligraphic",mathvariant:"script"},"L")]),t("mo",{stretchy:"false"},"("),t("mi",null,"A"),t("mo",null,","),t("mi",null,"P"),t("mo",null,","),t("mi",null,"N"),t("mo",{stretchy:"false"},")"),t("mo",null,"="),t("mo",{"data-mjx-texclass":"OP",movablelimits:"true"},"max"),t("mo",{stretchy:"false"},"("),t("mo",null,"∣∣"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"f"),t("mo",{stretchy:"false"},"("),t("mi",null,"A"),t("mo",{stretchy:"false"},")"),t("mo",null,"−"),t("mi",null,"f"),t("mo",{stretchy:"false"},"("),t("mi",null,"P"),t("mo",{stretchy:"false"},")")]),t("mo",null,"∣"),t("msup",null,[t("mo",null,"∣"),t("mn",null,"2")]),t("mo",null,"−"),t("mo",null,"∣∣"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"f"),t("mo",{stretchy:"false"},"("),t("mi",null,"A"),t("mo",{stretchy:"false"},")"),t("mo",null,"−"),t("mi",null,"f"),t("mo",{stretchy:"false"},"("),t("mi",null,"N"),t("mo",{stretchy:"false"},")")]),t("mo",null,"∣"),t("msup",null,[t("mo",null,"∣"),t("mn",null,"2")]),t("mo",null,"+"),t("mi",null,"α"),t("mo",null,","),t("mn",null,"0"),t("mo",{stretchy:"false"},")")])],-1))]),Q[68]||(Q[68]=t("p",null,"则整个网络的损失函数为：",-1)),t("mjx-container",O,[(e(),a("svg",S,Q[37]||(Q[37]=[s("",1)]))),Q[38]||(Q[38]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mi",null,"J"),t("mo",null,"="),t("munderover",null,[t("mo",{"data-mjx-texclass":"OP"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"i"),t("mo",null,"="),t("mn",null,"1")]),t("mi",null,"m")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-variant":"-tex-calligraphic",mathvariant:"script"},"L")]),t("mo",{stretchy:"false"},"("),t("msup",null,[t("mi",null,"A"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{stretchy:"false"},"("),t("mi",null,"i"),t("mo",{stretchy:"false"},")")])]),t("mo",null,","),t("msup",null,[t("mi",null,"P"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{stretchy:"false"},"("),t("mi",null,"i"),t("mo",{stretchy:"false"},")")])]),t("mo",null,","),t("msup",null,[t("mi",null,"N"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{stretchy:"false"},"("),t("mi",null,"i"),t("mo",{stretchy:"false"},")")])]),t("mo",{stretchy:"false"},")")])],-1))]),t("p",null,[Q[41]||(Q[41]=T("那么如何选择这三元组呢？如果是随机选择的话，很有可能A和N的差异会很大，从而导致网络不需要过多学习就可以轻易地进行区分。为了避免这种情况，需要选取 ")),t("mjx-container",E,[(e(),a("svg",P,Q[39]||(Q[39]=[s("",1)]))),Q[40]||(Q[40]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"d"),t("mo",{stretchy:"false"},"("),t("mi",null,"A"),t("mo",null,","),t("mi",null,"P"),t("mo",{stretchy:"false"},")"),t("mo",null,"≈"),t("mi",null,"d"),t("mo",{stretchy:"false"},"("),t("mi",null,"A"),t("mo",null,","),t("mi",null,"N"),t("mo",{stretchy:"false"},")")])],-1))]),Q[42]||(Q[42]=T(" 的样本。更多细节可以参考论文 ")),Q[43]||(Q[43]=t("a",{href:"https://arxiv.org/abs/1503.03832",target:"_blank",rel:"noreferrer"},"FaceNet: A Unified Embedding for Face Recognition and Clustering",-1)),Q[44]||(Q[44]=T("。"))]),Q[69]||(Q[69]=t("h2",{id:"_5-二分类",tabindex:"-1"},[T("5. 二分类 "),t("a",{class:"header-anchor",href:"#_5-二分类","aria-label":'Permalink to "5. 二分类"'},"​")],-1)),Q[70]||(Q[70]=t("p",null,"也可以将人脸识别当做一个二分类的问题。",-1)),Q[71]||(Q[71]=t("p",null,[t("img",{src:m,alt:""})],-1)),t("p",null,[Q[49]||(Q[49]=T("如图所示，两张图片 ")),t("mjx-container",X,[(e(),a("svg",B,Q[45]||(Q[45]=[s("",1)]))),Q[46]||(Q[46]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msup",null,[t("mi",null,"x"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{stretchy:"false"},"("),t("mi",null,"i"),t("mo",{stretchy:"false"},")")])]),t("mo",null,","),t("msup",null,[t("mi",null,"x"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{stretchy:"false"},"("),t("mi",null,"j"),t("mo",{stretchy:"false"},")")])])])],-1))]),Q[50]||(Q[50]=T(" 分别经过同一个卷积网络得到编码 ")),t("mjx-container",N,[(e(),a("svg",I,Q[47]||(Q[47]=[s("",1)]))),Q[48]||(Q[48]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"f"),t("mo",{stretchy:"false"},"("),t("msup",null,[t("mi",null,"x"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{stretchy:"false"},"("),t("mi",null,"i"),t("mo",{stretchy:"false"},")")])]),t("mo",{stretchy:"false"},")"),t("mo",null,","),t("mi",null,"f"),t("mo",{stretchy:"false"},"("),t("msup",null,[t("mi",null,"x"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{stretchy:"false"},"("),t("mi",null,"j"),t("mo",{stretchy:"false"},")")])]),t("mo",{stretchy:"false"},")")])],-1))]),Q[51]||(Q[51]=T(" （假设编码是128维的向量），然后令："))]),t("mjx-container",J,[(e(),a("svg",G,Q[52]||(Q[52]=[s("",1)]))),Q[53]||(Q[53]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("mi",null,"y"),t("mo",{stretchy:"false"},"^")])]),t("mo",null,"="),t("mi",null,"σ"),t("mo",{stretchy:"false"},"("),t("munderover",null,[t("mo",{"data-mjx-texclass":"OP"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"k"),t("mo",null,"="),t("mn",null,"1")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mn",null,"128")])]),t("msub",null,[t("mi",null,"w"),t("mi",null,"i")]),t("mo",null,"∣"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"f"),t("mo",{stretchy:"false"},"("),t("msup",null,[t("mi",null,"x"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{stretchy:"false"},"("),t("mi",null,"i"),t("mo",{stretchy:"false"},")")])]),t("msub",null,[t("mo",{stretchy:"false"},")"),t("mi",null,"k")]),t("mo",null,"−"),t("mi",null,"f"),t("mo",{stretchy:"false"},"("),t("msup",null,[t("mi",null,"x"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",{stretchy:"false"},"("),t("mi",null,"j"),t("mo",{stretchy:"false"},")")])]),t("msub",null,[t("mo",{stretchy:"false"},")"),t("mi",null,"k")])]),t("mo",null,"∣"),t("mo",null,"+"),t("mi",null,"b"),t("mo",{stretchy:"false"},")")])],-1))]),Q[72]||(Q[72]=t("p",null,"即将人脸识别当做一个监督学习，将成对的图片作为训练样本。如果两张图片是同一个人，则标签为1；如果两张图片是不同的人，则标签为0。",-1))])}const t1=l(o,[["render",z]]);export{Y as __pageData,t1 as default};
